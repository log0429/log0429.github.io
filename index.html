<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Hello World">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hello World">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello World">





  
  
  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Hello World</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hello World</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">一切开始的时候，是最美好的时光。</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/14/hexo-建立文章草稿/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/12/14/hexo-建立文章草稿/" class="post-title-link" itemprop="url">hexo-建立文章草稿</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-12-14 20:44:29 / 修改时间：20:53:01" itemprop="dateCreated datePublished" datetime="2019-12-14T20:44:29+08:00">2019-12-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/hexo使用教程/" itemprop="url" rel="index"><span itemprop="name">hexo使用教程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="传统建立文章的方式"><a href="#传统建立文章的方式" class="headerlink" title="传统建立文章的方式"></a>传统建立文章的方式</h2><p>一般我们都会使用 <code>hexo new &lt;title&gt;</code> 来建立文章，这种建立方法会将新文章建立在 <code>source/_posts</code> 目录下，当使用 <code>hexo generate</code> 编译 markdown 文件时，会将其 HTML 结果编译在 public 目录下，之后 hexo deploy 将会把 public 目录下所有文章部署到 GitHub，这是我们熟悉的 Hexo 流程。</p>
<p>这种建立文章方式的缺点是：若我们同时编辑多篇文章，只要其中一篇文章尚未编辑完成，也会随着<code>hexo deploy</code>一起部署到 GitHub，也就是 GitHub 可能会看到我们尚未完成的文章。</p>
<h2 id="建立文章草稿"><a href="#建立文章草稿" class="headerlink" title="建立文章草稿"></a>建立文章草稿</h2><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo <span class="keyword">new</span> draft &lt;<span class="built_in">title</span>&gt;</span><br></pre></td></tr></table></figure>
<p>Hexo 另外提供 draft 机制，它的原理是新文章将建立在 <code>source/_drafts</code> 目录下，因此 hexo generate 并不会将其编译到 public 目录下，所以 hexo deploy 也不会将其部署到 GitHub。</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo S <span class="comment">--draft</span></span><br></pre></td></tr></table></figure>
<p>虽然 hexo generate 不会编译 <code>source/_drafts</code> 目录下的文章，但 Hexo 的 Hexo server 另外提供 –draft 参数，这让我们只要搭配 hexo-browsersync plugins，就可以达到一边编辑 markdown 文章，一边使用浏览器预览的目的。</p>
<h2 id="将草稿发布为正式文章"><a href="#将草稿发布为正式文章" class="headerlink" title="将草稿发布为正式文章"></a>将草稿发布为正式文章</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo P <span class="tag">&lt;<span class="name">filename</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>其中 <filename> 为不包含 md 后缀的文章名称。它的原理只是将文章从 <code>source/_drafts</code> 移动到 <code>source/_posts</code> 而已。<br>之后的 <code>hexo generate</code> 与 <code>hexo deploy</code> 的用法就完全一样了。</filename></p>
<p>若日后想将正式文章转为为草稿，只需手动将文章从 <code>source/_posts</code> 目录移动到 <code>source/_drafts</code> 目录即可。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/09/滤波学习笔记00-前言及环境搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/12/09/滤波学习笔记00-前言及环境搭建/" class="post-title-link" itemprop="url">滤波学习笔记00-前言及环境搭建</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-12-09 17:24:13" itemprop="dateCreated datePublished" datetime="2019-12-09T17:24:13+08:00">2019-12-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-12-14 20:40:55" itemprop="dateModified" datetime="2019-12-14T20:40:55+08:00">2019-12-14</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Kalman-and-Bayesian-Filters-in-Python学习/" itemprop="url" rel="index"><span itemprop="name">Kalman-and-Bayesian-Filters-in-Python学习</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>本系列学习笔记基于GitHub上的一个教程——Kalman-and-Bayesian-Filters-in-Python，感谢作者，感谢开源！</strong></p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>学习教程来自GitHub，<code>https://github.com/rlabbe/Kalman-and-Bayesian-Filters-in-Python</code>，这是一本介绍卡尔曼滤波和贝叶斯滤波的教程，教程中所有的代码使用Python编写。这本教程是用Juptyer Notebook编写的，所以我们可以在浏览器上直接修改并运行书中的代码，实现作者所期望的<strong>交互式学习</strong>。<br>关于作者自己写的前言、教程介绍、写作缘起之类的，可以在该项目的<code>README</code>文件中细品。我在这里主要记录如何配置环境实现作者期望的交互式学习。</p>
<h2 id="阅读教程的两种方式"><a href="#阅读教程的两种方式" class="headerlink" title="阅读教程的两种方式"></a>阅读教程的两种方式</h2><ol>
<li><p>在线阅读<br>在GitHub上进入这个项目，在该项目的<code>README</code>文件中点击作者提供的对应链接，可以在线阅读此教程，还可以获取教程的PDF版本。</p>
</li>
<li><p>交互式阅读<br>作者极力推荐这种学习方式，这也是这本教程的设计意图。<br>为了实现交互式阅读，需要先进行一番配置，安装一些支持包。同样，作者在<code>README</code>文件中也给出了安装说明，下面将记录详细过程。</p>
</li>
</ol>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>1.安装Anaconda<br><strong>实现这本教程的交互式阅读需要Jupyter notebook, IPython, Jupyter, NumPy, SciPy, SymPy, Matplotlib等软件和支持包，所有的这些都可以通过安装Anaconda来一次性完成安装。</strong></p>
<p>Anaconda指的是一个<strong>开源的Python发行版本</strong>，其包含了conda、Python等180多个科学包及其依赖项。 因为包含了大量的科学包，Anaconda 的下载文件比较大（约 531 MB），如果只需要某些包，或者需要节省带宽或存储空间，也可以使用Miniconda这个较小的发行版（仅包含conda和 Python）。<br>Conda是一个开源的包、环境管理器，可以用于在同一个机器上安装不同版本的软件包及其依赖，并能够在不同的环境之间切换。</p>
<p>可以从Anaconda官网下载Anaconda，<a href="https://www.anaconda.com/distribution/#download-section" target="_blank" rel="noopener">https://www.anaconda.com/distribution/#download-section</a>。</p>
<p>但官方下载很慢，推荐从清华镜像网站下载：<br><a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</a>。</p>
<p><strong>安装过程中记得勾选添加路径到环境变量，若忘记需要安装完成后手动添加。</strong></p>
<p>顺便备注一下Jupyter notebook, IPython, Jupyter, NumPy, SciPy, SymPy, Matplotlib这些软件和支持包的作用：</p>
<blockquote>
<p>Jupyter notebook is the software that allows you to run Python inside of the browser - the book is a collection of Jupyter notebooks. IPython provides the infrastructure for Jupyter and data visualization. NumPy and Scipy are packages which provide the linear algebra implementation that the filters use. Sympy performs symbolic math - I use it to find derivatives of algebraic equations. Finally, Matplotlib provides plotting capability.</p>
</blockquote>
<p>2.安装FilterPy<br>FilterPy是教程作者写的一个库，使用<code>pip</code>进行安装。<br>pip是Python包管理工具，该工具提供了对Python包的查找、下载、安装、卸载的功能。Python 2.7.9 + 或 Python 3.4+ 以上版本都自带pip工具。</p>
<blockquote>
<p>FilterPy is a Python library that implements all of the filters used in this book, and quite a few others. Installation is easy using pip. Issue the following from the command prompt:<br><code>pip install filterpy</code></p>
</blockquote>
<h2 id="下载和运行教材"><a href="#下载和运行教材" class="headerlink" title="下载和运行教材"></a>下载和运行教材</h2><p>教材放在一个github repository中，使用如下命令下载：<br><code>git clone --depth=1 https://github.com/rlabbe/Kalman-and-Bayesian-Filters-in-Python.git</code><br>这个命令会创建出一个名为<code>Kalman-and-Bayesian-Filters-in-Python</code>的文件夹，定位到这个文件夹下，运行Jupyter notebook：<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Kalman-<span class="built_in">and</span>-Bayesian-<span class="built_in">Filters</span>-<span class="built_in">in</span>-Python</span><br><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure></p>
<p>它将会打开一个浏览器窗口，显示根目录的内容。这本书分成许多章，每个章节都命名为xx-name.ipynb，其中xx是章节号，.ipynb是Notebook文件的扩展名。</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>运行Jupyter notebook时报错：<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\S</span>cripts<span class="symbol">\j</span>upyter-notebook-script.py", line 6, in &lt;module&gt;</span><br><span class="line">    from notebook.notebookapp import main</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\n</span>otebook<span class="symbol">\n</span>otebookapp.py", line 47, in &lt;module&gt;</span><br><span class="line">    from zmq.eventloop import ioloop</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\_</span>_init__.py", line 47, in &lt;module&gt;</span><br><span class="line">    from zmq import backend</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\_</span>_init__.py", line 40, in &lt;module&gt;</span><br><span class="line">    reraise(*exc_info)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\u</span>tils<span class="symbol">\s</span>ixcerpt.py", line 34, in reraise</span><br><span class="line">    raise value</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\_</span>_init__.py", line 27, in &lt;module&gt;</span><br><span class="line">    _ns = select_backend(first)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\s</span>elect.py", line 27, in select_backend</span><br><span class="line">    mod = __import__(name, fromlist=public_api)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\c</span>ython<span class="symbol">\_</span>_init__.py", line 6, in &lt;module&gt;</span><br><span class="line">    from . import (constants, error, message, context,</span><br><span class="line">ImportError: DLL load failed: 找不到指定的模块。</span><br></pre></td></tr></table></figure></p>
<p>解决方法：重装pyzmq<br><code>pip uninstall pyzmq</code></p>
<p><code>pip install pyzmq</code></p>
<p>如果使用命令行无法卸载，则手动卸载。直接全局搜索对应文件，具体包括 “package name” 文件夹 和 “package name”.egg-info ，找到后直接删除即可。<br>在这个问题中，找到<code>pyzmq-17.1.2-py3.7.egg-info</code>文件夹和<code>zmq</code>文件夹，手动删除，然后运行<code>pip install pyzmq</code>命令重新安装。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/03/C-C-分割字符串/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/12/03/C-C-分割字符串/" class="post-title-link" itemprop="url">C/C++_分割字符串</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-12-03 11:04:00 / 修改时间：11:19:39" itemprop="dateCreated datePublished" datetime="2019-12-03T11:04:00+08:00">2019-12-03</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/C-C/" itemprop="url" rel="index"><span itemprop="name">C/C++</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这篇是抄下来备忘的，原文: <a href="https://cloud.tencent.com/developer/article/1525278" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1525278</a></p>
<h2 id="给定一个分隔符（单个字符或子串）分割字符串"><a href="#给定一个分隔符（单个字符或子串）分割字符串" class="headerlink" title="给定一个分隔符（单个字符或子串）分割字符串"></a>给定一个分隔符（单个字符或子串）分割字符串</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@brief: 指定单个分隔符（单个字符或子串）分割字符串</span></span><br><span class="line"><span class="comment">//@param: src 原字符串；delimiter 分隔符，单个字符或子串</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; splitStr(<span class="keyword">const</span> <span class="built_in">string</span>&amp; src, <span class="keyword">const</span> <span class="built_in">string</span>&amp; delimiter) &#123;</span><br><span class="line">true<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vetStr;</span><br><span class="line">true</span><br><span class="line">true<span class="comment">// 入参检查</span></span><br><span class="line">true<span class="comment">// 1.原字符串为空或等于分隔符，返回空 vector</span></span><br><span class="line">true<span class="keyword">if</span> (src == <span class="string">""</span> || src == delimiter) &#123;</span><br><span class="line">truetrue<span class="keyword">return</span> vetStr;</span><br><span class="line">true&#125;</span><br><span class="line">true<span class="comment">// 2.分隔符为空返回单个元素为原字符串的 vector</span></span><br><span class="line">true<span class="keyword">if</span> (delimiter == <span class="string">""</span>) &#123;</span><br><span class="line">truetruevetStr.push_back(src);</span><br><span class="line">truetrue<span class="keyword">return</span> vetStr;</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="built_in">string</span>::size_type startPos = <span class="number">0</span>;</span><br><span class="line">true<span class="keyword">auto</span> index = src.find(delimiter);</span><br><span class="line">true<span class="keyword">while</span> (index != <span class="built_in">string</span>::npos) &#123;</span><br><span class="line">truetrue<span class="keyword">auto</span> str = src.substr(startPos, index - startPos);</span><br><span class="line">truetrue<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">truetruetruevetStr.push_back(str);</span><br><span class="line">truetrue&#125;</span><br><span class="line">truetruestartPos = index + delimiter.length();</span><br><span class="line">truetrueindex = src.find(delimiter, startPos);</span><br><span class="line">true&#125;</span><br><span class="line">true<span class="comment">// 取最后一个子串</span></span><br><span class="line">true<span class="keyword">auto</span> str = src.substr(startPos);</span><br><span class="line">true<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">truetruevetStr.push_back(str);</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="keyword">return</span> vetStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">true<span class="built_in">string</span> str = <span class="string">"I,love,China"</span>;</span><br><span class="line"></span><br><span class="line">true<span class="comment">// 正常分割</span></span><br><span class="line">true<span class="keyword">auto</span> vetStr = splitStr(str, <span class="string">","</span>);</span><br><span class="line">true<span class="built_in">cout</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">true<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">truetrue<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="comment">// 边界测试</span></span><br><span class="line">truevetStr = splitStr(str, <span class="string">"I,"</span>);</span><br><span class="line">true<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">true<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">truetrue<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="comment">// 不包含分隔符</span></span><br><span class="line">truevetStr = splitStr(str, <span class="string">"what"</span>);</span><br><span class="line">true<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">true<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">truetrue<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">true&#125;</span><br><span class="line">true<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出结果：<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">3</span></span><br><span class="line">I love China</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">love,China</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">I,love,China</span><br></pre></td></tr></table></figure></p>
<h2 id="给定一个或多个分隔符（单个字符），分割字符串"><a href="#给定一个或多个分隔符（单个字符），分割字符串" class="headerlink" title="给定一个或多个分隔符（单个字符），分割字符串"></a>给定一个或多个分隔符（单个字符），分割字符串</h2><p>实现和单个分隔符（单个字符或子串）分割字符串基本一致，关键地方是将获取分隔符下标的函数由 std::string::find(…) 改为 std::string::find_first_of(…)。二者的区别如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span>::find(...)</span><br><span class="line">true将分隔符看作一个整体在原字符串中查找并返回匹配的下标，比如 <span class="built_in">string</span>(<span class="string">"I love China"</span>).find(<span class="string">"love"</span>) 返回 <span class="number">2</span>。</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span>::find_first_of(...)</span><br><span class="line">true在字符串中搜索分隔符中任意一个字符出现的第一个位置。与 <span class="built_in">std</span>::<span class="built_in">string</span>::find(...) 的区别是不需要整个分隔符匹配，只需要分隔符中的单个字符匹配即可。</span><br></pre></td></tr></table></figure></p>
<p>具体实现如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@brief: 指定单个或多个分隔符（单个字符）分割字符串</span></span><br><span class="line"><span class="comment">//@param: src 原字符串；delimiter 单个或多个分隔符（单个字符）</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; splitStr(<span class="keyword">const</span> <span class="built_in">string</span>&amp; src, <span class="keyword">const</span> <span class="built_in">string</span>&amp; delimiter) &#123;</span><br><span class="line">true<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vtStr;</span><br><span class="line"></span><br><span class="line">true<span class="comment">// 入参检查</span></span><br><span class="line">true<span class="comment">// 1.原字符串为空返回空 vector</span></span><br><span class="line">true<span class="keyword">if</span> (src == <span class="string">""</span>) &#123;</span><br><span class="line">truetrue<span class="keyword">return</span> vtStr;</span><br><span class="line">true&#125;</span><br><span class="line">true<span class="comment">// 2.分隔符为空返回单个元素为原字符串的 vector</span></span><br><span class="line">true<span class="keyword">if</span> (delimiter == <span class="string">""</span>) &#123;</span><br><span class="line">truetruevtStr.push_back(src);</span><br><span class="line">truetrue<span class="keyword">return</span> vtStr;</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="built_in">string</span>::size_type startPos = <span class="number">0</span>;</span><br><span class="line">true<span class="keyword">auto</span> index = src.find_first_of(delimiter);</span><br><span class="line">true<span class="keyword">while</span> (index != <span class="built_in">string</span>::npos) &#123;</span><br><span class="line">truetrue<span class="keyword">auto</span> str = src.substr(startPos, index - startPos);</span><br><span class="line">truetrue<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">truetruetruevtStr.push_back(str);</span><br><span class="line">truetrue&#125;</span><br><span class="line">truetruestartPos = index + <span class="number">1</span>;</span><br><span class="line">truetrueindex = src.find_first_of(delimiter, startPos);</span><br><span class="line">true&#125;</span><br><span class="line">true<span class="comment">// 取最后一个子串</span></span><br><span class="line">true<span class="keyword">auto</span> str = src.substr(startPos);</span><br><span class="line">true<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">truetruevtStr.push_back(str);</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="keyword">return</span> vtStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>测试如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">true<span class="built_in">string</span> str = <span class="string">"I,love,China"</span>;</span><br><span class="line"></span><br><span class="line">true<span class="comment">// 正常分割。按照 h 与逗号分割</span></span><br><span class="line">true<span class="keyword">auto</span> vetStr = splitStr(str, <span class="string">"h,"</span>);</span><br><span class="line">true<span class="built_in">cout</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">true<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">truetrue<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="comment">// 边界测试</span></span><br><span class="line">truevetStr = splitStr(str, <span class="string">"Ia"</span>);</span><br><span class="line">true<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">true<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">truetrue<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">true&#125;</span><br><span class="line"></span><br><span class="line">true<span class="comment">// 不包含分隔符</span></span><br><span class="line">truevetStr = splitStr(str, <span class="string">"_:"</span>);</span><br><span class="line">true<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">true<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">truetrue<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">true&#125;</span><br><span class="line">true<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出结果：<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">4</span></span><br><span class="line">I love C ina</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">,love,Chin</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">I,love,China</span><br></pre></td></tr></table></figure></p>
<font color="red"><strong>注意，本文实现时，如果被分割后的子串为空串，则不计入最终的子串序列。比如原字符串是”a,b”，分隔符为”,”，那么分割后的子串序列为 [“a”, “b”]，而不是 [“a”, “”, “b”]。<br>当给定的分隔符不在原字符串中，则原字符串不被分割，返回单个元素为原字符串的 vector。</strong></font>


          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/03/QT-分割字符串/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/12/03/QT-分割字符串/" class="post-title-link" itemprop="url">QT_分割字符串</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-12-03 10:44:45 / 修改时间：10:59:21" itemprop="dateCreated datePublished" datetime="2019-12-03T10:44:45+08:00">2019-12-03</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/QT总结/" itemprop="url" rel="index"><span itemprop="name">QT总结</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="按照指定的字符串分割-split，单个分隔符"><a href="#按照指定的字符串分割-split，单个分隔符" class="headerlink" title="按照指定的字符串分割_split，单个分隔符"></a>按照指定的字符串分割_split，单个分隔符</h2><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QString <span class="attr">str</span> = <span class="string">"hello,world"</span></span><br><span class="line">QStringList <span class="attr">list</span> = str.split(<span class="string">","</span>);</span><br><span class="line">QString <span class="attr">a</span> = list[<span class="number">0</span>]; //<span class="attr">a</span> = <span class="string">"hello"</span></span><br><span class="line">QString <span class="attr">b</span> = list[<span class="number">1</span>]; //<span class="attr">b</span> = <span class="string">"world"</span></span><br><span class="line">QString <span class="attr">str2</span> = b.append(a);</span><br><span class="line"><span class="attr">str2</span> = <span class="string">"worldhello"</span></span><br></pre></td></tr></table></figure>
<h2 id="按照指定的字符串分割-split，多个分隔符，正则表达式"><a href="#按照指定的字符串分割-split，多个分隔符，正则表达式" class="headerlink" title="按照指定的字符串分割_split，多个分隔符，正则表达式"></a>按照指定的字符串分割_split，多个分隔符，正则表达式</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//时间格式：<span class="number">2018</span><span class="number">-12</span><span class="number">-24</span> <span class="number">7</span>:<span class="number">47</span>:<span class="number">49.200</span></span><br><span class="line">double ep[<span class="number">6</span>]=&#123;<span class="number">0.0</span>&#125;;</span><br><span class="line"><span class="symbol">QStringList</span> list_time = str_time.split(<span class="symbol">QRegExp</span>(<span class="string">"[- :]"</span>));// 分割<span class="string">"-"</span>,空格和<span class="string">":"</span>  list_time: [ <span class="string">"2018"</span>, <span class="string">"12"</span>, <span class="string">"24"</span>, <span class="string">"7"</span>, <span class="string">"47"</span>, <span class="string">"49.200"</span>]</span><br><span class="line">ep[<span class="number">0</span>]=list_time[<span class="number">0</span>].toDouble();</span><br><span class="line">ep[<span class="number">1</span>]=list_time[<span class="number">1</span>].toDouble();</span><br><span class="line">ep[<span class="number">2</span>]=list_time[<span class="number">2</span>].toDouble();</span><br><span class="line">ep[<span class="number">3</span>]=list_time[<span class="number">3</span>].toDouble();</span><br><span class="line">ep[<span class="number">4</span>]=list_time[<span class="number">4</span>].toDouble();</span><br><span class="line">ep[<span class="number">5</span>]=list_time[<span class="number">5</span>].toDouble();</span><br></pre></td></tr></table></figure>
<h2 id="按照指定位置分割-mid"><a href="#按照指定位置分割-mid" class="headerlink" title="按照指定位置分割_mid"></a>按照指定位置分割_mid</h2><p>一个参数表示从该位置截取到字符串尾<br>两个参数表示从该位置开始截取n个字符<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">QString</span> <span class="keyword">str </span>= <span class="string">"helloworld"</span></span><br><span class="line"><span class="symbol">QString</span> a = <span class="keyword">str.mid(0, </span><span class="number">5</span>)<span class="comment">;//0表示位置, 5表示从该位置开始后面5个字符</span></span><br><span class="line"><span class="symbol">QString</span> <span class="keyword">b </span>= <span class="keyword">str.mid(5);</span></span><br><span class="line"><span class="keyword">QString </span><span class="keyword">str2 </span>= <span class="keyword">b.append(a);</span></span><br><span class="line"><span class="keyword">str2 </span>= <span class="string">"worldhello"</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/01/next主题-头像设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/12/01/next主题-头像设置/" class="post-title-link" itemprop="url">next主题-头像设置</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-12-01 23:04:52 / 修改时间：23:44:13" itemprop="dateCreated datePublished" datetime="2019-12-01T23:04:52+08:00">2019-12-01</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/hexo使用教程/" itemprop="url" rel="index"><span itemprop="name">hexo使用教程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/images/next主题-添加头像.gif" alt></p>
<h2 id="添加头像"><a href="#添加头像" class="headerlink" title="添加头像"></a>添加头像</h2><p>打开<code>themes/next</code>下的<code>_config.yml</code>文件，搜索<code>Sidebar Avatar</code>关键字，在<code>url:</code>后面加入你的头像图片路径。<br>可以使用本地图片,把图片放入<code>themes/next/source/images</code>下,加入图片路径如下：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Sidebar Avatar</span></span><br><span class="line"><span class="symbol">avatar:</span></span><br><span class="line">  <span class="meta"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="meta"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="meta"># You can also use other linking images.</span></span><br><span class="line"><span class="symbol">  url:</span> <span class="meta-keyword">/images/</span>奔跑吧你会更强大.jpg</span><br></pre></td></tr></table></figure></p>
<h2 id="设置头像边框为圆形框-鼠标放置头像上旋转"><a href="#设置头像边框为圆形框-鼠标放置头像上旋转" class="headerlink" title="设置头像边框为圆形框  鼠标放置头像上旋转"></a>设置头像边框为圆形框  鼠标放置头像上旋转</h2><p>将rounded置为true可以设置头像边框为圆形框，将rotated置为true可以设置鼠标放置头像上旋转效果。<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line"><span class="attr">  url:</span> <span class="string">/images/奔跑吧你会更强大.jpg</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line"><span class="attr">  rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># The value of opacity should be choose from 0 to 1 to set the opacity of the avatar.</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line"><span class="attr">  rotated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/30/PLC-编程注意事项/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/30/PLC-编程注意事项/" class="post-title-link" itemprop="url">PLC__编程注意事项</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-30 23:45:21" itemprop="dateCreated datePublished" datetime="2019-11-30T23:45:21+08:00">2019-11-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-12-01 15:53:58" itemprop="dateModified" datetime="2019-12-01T15:53:58+08:00">2019-12-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PLC/" itemprop="url" rel="index"><span itemprop="name">PLC</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="每个LAD程序段都必须使用线圈或功能框指令来终止"><a href="#每个LAD程序段都必须使用线圈或功能框指令来终止" class="headerlink" title="每个LAD程序段都必须使用线圈或功能框指令来终止"></a>每个LAD程序段都必须使用线圈或功能框指令来终止</h2><h2 id="不能创建可能导致反向能流的分支"><a href="#不能创建可能导致反向能流的分支" class="headerlink" title="不能创建可能导致反向能流的分支"></a>不能创建可能导致反向能流的分支</h2><p><img src="/images/LAD_反向能流.jpg" alt><br>如上图所示出点A、B、C、D接通时，有一个假想的“概念电流”或“能流”（Power Flow）从左向右流动，这一方向与执行用户程序时的逻辑运算的顺序是一致的。<strong>能流只能从左向右流动。</strong><br>上图中可能有两个方向的能流流经触电F（经过触点A、B、F、H、G、D或经过触点E、F、C、D），这不符合能流只能从左向右流动的原则。</p>
<h2 id="不能创建可能导致短路的分支"><a href="#不能创建可能导致短路的分支" class="headerlink" title="不能创建可能导致短路的分支"></a>不能创建可能导致短路的分支</h2><p><img src="/images/LAD_短路分支.jpg" alt></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/30/PLC-数据类型和数据存储/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/30/PLC-数据类型和数据存储/" class="post-title-link" itemprop="url">PLC_数据类型和数据存储</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-30 20:55:59" itemprop="dateCreated datePublished" datetime="2019-11-30T20:55:59+08:00">2019-11-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-12-01 20:52:16" itemprop="dateModified" datetime="2019-12-01T20:52:16+08:00">2019-12-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PLC/" itemprop="url" rel="index"><span itemprop="name">PLC</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p><strong>数据类型用于指定数据元素的大小以及如何解释数据。</strong><br>基本数据类型包括位、字节、字、双字、整型、双整型、浮点数、S5时间数据类型。<br>这里先列出我目前常用的数据类型，剩下的以后遇到再补充：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">位和位序列数据类型</td>
<td style="text-align:left">- Bool是布尔值或位值<br> - Byte是8位字节值，其中0位为最低位，7位为最高位<br> - Word是16位值<br> - DWord是32位双字值</td>
</tr>
<tr>
<td style="text-align:left">整数数据类型</td>
<td style="text-align:left">- USInt（无符号8位整数）和SInt（有符号8位整数）可以是有符号或无符号的“短”整型（内存为8位或1个字节）<br> - UInt（无符号16位整数）和Int（有符号16位整数）可以是有符号或无符号的整型（内存为16位或1个字）<br> - UDInt（无符号32位整数）和DInt（有符号32位整数）可以是有符号或无符号的双整型（内存为32位或1个双字）</td>
</tr>
</tbody>
</table>
<h2 id="数据存储"><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h2><p>为了更好地理解CPU的存储区结构及其寻址方式，以下段落将对PLC变量所引用的“绝对”寻址进行说明。CPU 提供了以下几个选项，用于在执行用户程序期间存储数据：</p>
<ul>
<li>全局存储器：CPU提供了各种专用存储区，其中包括输入(I)、输出(Q)和位存储器(M)。所有代码块可以无限制地访问该储存器。</li>
<li>数据块 (DB)：可在用户程序中加入DB以存储代码块的数据。从相关代码块开始执行一直到结束，存储的数据始终存在。“全局”DB存储所有代码块均可使用的数据，而背景DB存储特定FB的数据并且由FB的参数进行构造。</li>
<li>临时存储器：只要调用代码块，CPU的操作系统就会分配要在执行块期间使用的临时或本地存储器(L)。代码块执行完成后，CPU将重新分配本地存储器，以用于执行其它代码块。</li>
</ul>
<p>每个存储单元都有唯一的地址。用户程序利用这些地址访问存储单元中的信息。对输入(I)或输出(Q)存储区（例如 I0.3 或 Q1.7）的引用会访问过程映像。要立即访问物理输入或输出，请在引用后面添加“:P”（例如，I0.3:P、Q1.7:P或”Stop:P”）。<br>强制仅将固定值写入物理输入 (Ix.y:P) 或物理输出 (Qx.y:P)。要强制输入或输出，请在PLC变量或地址后面添加“:P”。 </p>
<h2 id="对存储区进行寻址"><a href="#对存储区进行寻址" class="headerlink" title="对存储区进行寻址"></a>对存储区进行寻址</h2><p>每个存储单元都有唯一的地址。用户程序利用这些地址访问存储单元中的信息。绝对地址由以下元素组成：</p>
<ul>
<li>存储区（如 I、Q或M）</li>
<li>要访问的数据的大小（如“B”表示Byte或“W”表示Word）</li>
<li>数据地址（如Byte 3 或Word 3）</li>
</ul>
<p>访问布尔值地址中的位时，不要输入大小的助记符号。<br>仅需输入数据的存储区、字节位置和位位置（如0.0、Q0.1或M3.4）。</p>
<h2 id="访问一个变量数据类型的“片段”"><a href="#访问一个变量数据类型的“片段”" class="headerlink" title="访问一个变量数据类型的“片段”"></a>访问一个变量数据类型的“片段”</h2><p>可以根据大小按位、字节、或字级别访问 PLC 变量和数据块变量。<br>访问此类数据片段的语法如下所示：</p>
<ul>
<li>“<plc 变量名称>“.xn（按位访问）</plc></li>
<li>“<plc 变量名称>“.bn（按字节访问）</plc></li>
<li>“<plc 变量名称>“.wn（按字访问）</plc></li>
<li>“&lt;数据块名称&gt;”.&lt;变量名称&gt;.xn（按访问）</li>
<li>“&lt;数据块名称&gt;”.&lt;变量名称&gt;.bn（按字节访问）</li>
<li>“&lt;数据块名称&gt;”.&lt;变量名称&gt;.wn（按字访问）<br>双字大小的变量可按位 0 - 31、字节 0 - 3 或字 0 - 1 访问。一个字大小的的变量可按位 0 - 15、字节 0 - 1 或字 0 访问。字节大小的变量则可按位 0 - 7 或字节 0 访问。当预期操作数为位、字节或字时，则可使用位、字节和字片段访问方式。</li>
</ul>
<p><strong>示例</strong><br>在PLC变量表中， “DW”是一个声明为 DWORD 类型的变量。在以下示例中，显示了按位、字节和字片段的访问方式：<br><img src="/images/PLC_访问变量数据类型的“片段”.jpg" alt></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/30/PLC-基本概念/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/30/PLC-基本概念/" class="post-title-link" itemprop="url">PLC_基本概念</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-30 16:28:46" itemprop="dateCreated datePublished" datetime="2019-11-30T16:28:46+08:00">2019-11-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-12-01 16:11:58" itemprop="dateModified" datetime="2019-12-01T16:11:58+08:00">2019-12-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PLC/" itemprop="url" rel="index"><span itemprop="name">PLC</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ol>
<li><p>PLC<br>可编程控制器（Programmable Logic Controller），简称PLC，是一种数字运算操作的电子系统。</p>
</li>
<li><p>组态<br>帮助文档的定义：组态是对自动化系统的组件进行选择和组合，以及安装所需软件和根据特定用途定制自动化系统。<br>通俗地来说，PLC组态是对硬件进行配置，简单的说就是告诉系统你配置了哪些东西，这样系统才能去连接你的东西。<br>在PLC项目中，通过向项目中添加CPU和其它模块为PLC创建设备组态。<strong>必须将模块添加到设备组态并将硬件配置下载到CPU中，模块才能正常工作。</strong></p>
</li>
<li><p>固件<br>固件是内嵌在电子设备中的软件。 固件通常保存在闪存（如 EPROM、EEPROM 或 ROM）中，并且只能由用户使用特殊工具或功能进行替换。 固件总是连接到硬件，二者相互依存，因此而得名。</p>
</li>
</ol>
<h2 id="PLC的内部结构"><a href="#PLC的内部结构" class="headerlink" title="PLC的内部结构"></a>PLC的内部结构</h2><p>PLC的组成：<br><img src="/images/PLC内部结构图.jpg" alt></p>
<h2 id="输入-输出映像"><a href="#输入-输出映像" class="headerlink" title="输入/输出映像"></a>输入/输出映像</h2><p>PLC输入映像寄存器和输出映像寄存器的作用，就是连接外部物理输入点和物理输出点的桥梁，每个扫描周期输入/输出映像寄存器都刷新一次。</p>
<ol>
<li><p>输入映像<br>开关量的输人接口属于物理输人，指的是外部输人给PLC的信号，例如传感器、按钮、位置开关等。在每一个扫描周期结束后，外部物理输人点的实际状态将映射到输入映像寄存器中。通俗点说，PLC不知道这些物理输人元件究竟是些什么东西，那么就需要引人输人映像来解决这个问题。<br>这个输人映像就好像是外部输人端子的影像。当外部有信号输人时，它相对应的输入映像寄存区域就为1；当外部信号没有信号输人时，它对应的输人映像寄存区域就为0，这样，PLC就可以直接通过扫描映像寄存区来了解外部端子的通断状态。</p>
</li>
<li><p>输出映像<br>开关量的输出接口和输人接口一样，也属于物理输出，指的是PLC输出给外部连接元件的信号，例如电磁阀、指示灯等。在每一个扫描周期结束后，将输出映像寄存器的状态映射到外部物理输出点。<br>和输人映像的情况-样，PLC中引人的输出映像和物理输出也是对应的关系，当相对应的输出映像是1时，这个输出映像所对应的输出端子就接通，而当相对应的输出映像是0时，这个输出映像所对应的输出端子就断开。</p>
</li>
</ol>
<h2 id="PLC的扫描机制和扫描过程"><a href="#PLC的扫描机制和扫描过程" class="headerlink" title="PLC的扫描机制和扫描过程"></a>PLC的扫描机制和扫描过程</h2><p>PLC上电一运行，就由左往右、自上向下循环执行程序，并不停地刷新输入/输出映像区，如此循环不止，这就是PLC的扫描概念。扫描执行一次的周期称为扫描周期。<br><img src="/images/PLC扫描过程.jpg" alt></p>
<h2 id="国际通用标准信号"><a href="#国际通用标准信号" class="headerlink" title="国际通用标准信号"></a>国际通用标准信号</h2><p>在电力电子技术和计算机技术快速发展的今天，常常需要将工程中检测的传感器信号进行远距离传送，但是纷繁复杂的物理量信号直接传送会大大降低仪表的适用性，而且大多传感器属于弱信号型，远距离传送很容易出现衰减、干扰的问题，这就是二次变送器和标准的电传送信号产生的推动力。<br>二次变送器的作用就是将传感器的信号放大成为符合工业传输标准的电信号，如0~5V、0~10V或4~20mA，其中用得最多的是4~20mA。而变送器通过对放大器电路的零点迁移以及增益调整，可以将标准信号准确地对应于物理量的被检测范围，如0~100°C或-10~100°C等，也就是用硬件电路对物理量进行数学变换。中央控制室的仪表将这些电信号驱动机械式的电压表、电流表，就能显示出被测的物理量。<br>在实际的工程项目中，对于不同的量程范围，只要更换指针后面的刻度盘就可以了。更换刻度盘不会影响仪表的根本性质，这就实现了仪表的标准化、通用性和规模化生产。<br>所谓标准信号，是指物理量的形式和数值范围都符合国际标准的信号值，信号是信息的载体，它表现了物理量的变化。国际通用标准信号是连接仪表、变送设备、控制设备、计算机采样设备的一一种标准信号。<br>这些标准信号包括:电流信号4~20mA、0~ 10mA和电压信号0~5V、0~10V等。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/30/QComboBox使用总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/30/QComboBox使用总结/" class="post-title-link" itemprop="url">QComboBox使用总结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-30 15:20:11 / 修改时间：15:43:42" itemprop="dateCreated datePublished" datetime="2019-11-30T15:20:11+08:00">2019-11-30</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/QT总结/" itemprop="url" rel="index"><span itemprop="name">QT总结</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>QComboBox控件可以在ui设计界面中拖入创建，也可以在代码中创建。</p>
<h2 id="新建QComboBox控件"><a href="#新建QComboBox控件" class="headerlink" title="新建QComboBox控件"></a>新建QComboBox控件</h2><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QComboBox *comBox = new QComboBox()<span class="comment">;</span></span><br><span class="line">comBox-&gt;setGeometry(<span class="number">50</span>,<span class="number">50</span>,<span class="number">200</span>,<span class="number">30</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;addItem(<span class="string">"item1"</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;addItem(<span class="string">"item2"</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;addItem(<span class="string">"item3"</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;setCurrentIndex(<span class="number">0</span>)<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">connect(<span class="name">comBox</span>,SIGNAL(<span class="name">currentIndexChanged</span>(<span class="name">int</span>)),this,SLOT(<span class="name">valueChanged</span>()))<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<h2 id="调整下拉表框中item之间的间隔"><a href="#调整下拉表框中item之间的间隔" class="headerlink" title="调整下拉表框中item之间的间隔"></a>调整下拉表框中item之间的间隔</h2><p>有时下拉表框中item之间的间隔无法根据字体尺寸自动调整，会出现重叠，需要调整item之间的间隔：</p>
<ol>
<li><p>先在样式表中定义：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">comBox-&gt;setStyleSheet("QComboBox::drop-down&#123;border-style: none;&#125;"</span><br><span class="line">                      "QComboBox QAbstractItemView::item&#123;min-height:<span class="number">20px</span>;<span class="attribute">min-width</span>:<span class="number">20px</span>;&#125;");<span class="comment">//这一行就够了，设置最小宽度和高度</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在代码中写入：</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QStyledItemDelegate* itemDelegate=new QStyledItemDelegate()<span class="comment">;</span></span><br><span class="line">comBox-&gt;setItemDelegate(<span class="name">itemDelegate</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="获取当前显示的item"><a href="#获取当前显示的item" class="headerlink" title="获取当前显示的item"></a>获取当前显示的item</h2><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QS<span class="function"><span class="title">tring</span> str_currentText = comBox-&gt;</span>currentText();<span class="comment">//获取当前item的内容</span></span><br><span class="line"><span class="function"><span class="title">int</span> i_currentIndex = comBox-&gt;</span>currentIndex();<span class="comment">//获取当前item的序号，从0开始编号</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/29/QTableWidget使用总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="又来偷偷看我啦">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/奔跑吧你会更强大.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/29/QTableWidget使用总结/" class="post-title-link" itemprop="url">QTableWidget使用总结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-29 09:27:10" itemprop="dateCreated datePublished" datetime="2019-11-29T09:27:10+08:00">2019-11-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-11-30 14:58:09" itemprop="dateModified" datetime="2019-11-30T14:58:09+08:00">2019-11-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/QT总结/" itemprop="url" rel="index"><span itemprop="name">QT总结</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>QTableWidget是QT程序中常用的显示数据表格的空间，类似于VC、C#中的DataGrid。<br>QTableWidget是QTableView的子类，<strong>主要的区别是QTableView可以使用自定义的数据模型来显示内容(也就是先要通过setModel来绑定数据源)，而QTableWidget则只能使用标准的数据模型，并且其单元格数据是QTableWidgetItem的对象来实现的(也就是不需要绑定数据源，将逐个单元格内的信息填好即可)。</strong>这主要体现在QTableView类中有setModel成员函数，而到了QTableWidget类中，该成员函数变成了私有。使用QTableWidget就离不开QTableWidgetItem。QTableWidgetItem用来表示表格中的一个单元格，整个表格都需要用逐个单元格构建起来。</p>
<h2 id="表格基本外观设置"><a href="#表格基本外观设置" class="headerlink" title="表格基本外观设置"></a>表格基本外观设置</h2><p><strong>1. 将表格设置为禁止编辑</strong><br>在默认情况下，表格里的字符是可以更改的，比如双击一个单元格，就可以修改原来的内容，如果想禁止用户的这种操作，让这个表格对用户只读，可以这样：<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tableWidget-&gt;setEditTriggers(<span class="name">QAbstractItemView</span>:<span class="symbol">:NoEditTriggers</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>QAbstractItemView::NoEditTriggers是QAbstractItemView::EditTrigger枚举中的一个，都是触发修改单元格内容的条件：</p>
<table>
<thead>
<tr>
<th style="text-align:left">Constant</th>
<th style="text-align:center">Value</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">QAbstractItemView::NoEditTriggers</td>
<td style="text-align:center">0</td>
<td style="text-align:left">No editing possible. 无法修改</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::CurrentChanged</td>
<td style="text-align:center">1</td>
<td style="text-align:left">Editing start whenever current item changes. 任何时候都能修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::DoubleClicked</td>
<td style="text-align:center">2</td>
<td style="text-align:left">Editing starts when an item is double clicked. 双击单元格修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::SelectedClicked</td>
<td style="text-align:center">4</td>
<td style="text-align:left">Editing starts when clicking on an already selected item. 单击已选中的内容进行修改</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::EditKeyPressed</td>
<td style="text-align:center">8</td>
<td style="text-align:left">Editing starts when the platform edit key has been pressed over an item. 按下平台编辑键修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::AnyKeyPressed</td>
<td style="text-align:center">16</td>
<td style="text-align:left">Editing starts when any key is pressed over an item. 按下任意键修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::AllEditTriggers</td>
<td style="text-align:center">31</td>
<td style="text-align:left">Editing starts for all above actions. 以上条件全包括</td>
</tr>
</tbody>
</table>
<p><strong>2. 开启/关闭滚动条</strong><br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tableWidget-&gt;setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);<span class="regexp">//</span>设置垂直滚动条关闭</span><br><span class="line">tableWidget-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOn);<span class="regexp">//</span>设置水平滚动条开启</span><br><span class="line">tableWidget-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAsNeeded);<span class="regexp">//</span>设置水平滚动条在需要的时候开启</span><br></pre></td></tr></table></figure></p>
<p><strong>3. 设置表格为整行选择</strong><br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tableWidget-&gt;setSelectionBehavior(QAbstractItemView::SelectRows); <span class="regexp">//</span>设置为整行选中的方式</span><br></pre></td></tr></table></figure></p>
<p>QAbstractItemView::SelectionBehavior枚举还有如下类型:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Constant</th>
<th style="text-align:center">Value</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">QAbstractItemView::SelectItems</td>
<td style="text-align:center">0</td>
<td style="text-align:left">Selecting single items. 选中单个单元格</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::SelectRows</td>
<td style="text-align:center">1</td>
<td style="text-align:left">Selecting only rows. 选中一行</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::SelectColumns</td>
<td style="text-align:center">2</td>
<td style="text-align:left">Selecting only columns. 选中一列</td>
</tr>
</tbody>
</table>
<p><strong>4. 设置行高、列宽</strong><br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tableWidget-&gt;setColumnWidth(<span class="number">3</span>,<span class="number">200</span>);<span class="comment">//设置列宽</span></span><br><span class="line">tableWidget-&gt;setRowHeight(<span class="number">3</span>,<span class="number">60</span>);<span class="comment">//设置行高</span></span><br></pre></td></tr></table></figure></p>
<p>还可以将行和列的大小设为与内容相匹配：<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">tableWidget</span>-&gt;</span>resizeColumnsToContents();</span><br><span class="line"><span class="function"><span class="title">tableWidget</span>-&gt;</span>resizeRowsToContents();</span><br></pre></td></tr></table></figure></p>
<p><strong>5. 合并单元格</strong><br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tableWidget-&gt;setSpan(<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>)  <span class="comment">// 其参数为： 要改变单元格的   1行序号  2列序号     要合并的  3行数  4列数</span></span><br></pre></td></tr></table></figure></p>
<p>查看其帮助文档：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> QTableView::setSpan ( <span class="keyword">int</span> row, <span class="keyword">int</span> column, <span class="keyword">int</span> rowSpanCount, <span class="keyword">int</span> columnSpanCount );</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>Sets the span of the table element at (row, column) to the number of rows and columns specified by (rowSpanCount, columnSpanCount).</em></p>
</blockquote>
<h2 id="单元格设置"><a href="#单元格设置" class="headerlink" title="单元格设置"></a>单元格设置</h2><p><strong>1. 设置单元格显示内容</strong><br>使用函数<code>void QTableWidget::setItem ( int row, int column, QTableWidgetItem * item )</code>来设置单元格的显示内容。<br>可以直接这样写：<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tableWidget-&gt;setItem(<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">new</span> <span class="type">QTableWidgetItem</span>(<span class="string">"序号"</span>));</span><br></pre></td></tr></table></figure></p>
<p>也可以先新建QTableWidgetItem * item，设置好item的属性，再调用setItem()设置单元格显示内容：<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QTableWidgetItem *item = new QTableWidgetItem(<span class="string">"Apple"</span>)<span class="comment">;</span></span><br><span class="line">item-&gt;setBackgroundColor(<span class="name">QColor</span>(<span class="number">0</span>,<span class="number">60</span>,<span class="number">10</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setTextColor(<span class="name">QColor</span>(<span class="number">200</span>,<span class="number">111</span>,<span class="number">100</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setFont(<span class="name">QFont</span>(<span class="string">"Helvetica"</span>))<span class="comment">;</span></span><br><span class="line">tableWidget-&gt;setItem(<span class="number">0</span>,<span class="number">3</span>,item)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>2. 设置单元格背景、字体颜色、字体字符</strong><br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QTableWidgetItem *item = new QTableWidgetItem(<span class="string">"Apple"</span>)<span class="comment">;</span></span><br><span class="line">item-&gt;setBackgroundColor(<span class="name">QColor</span>(<span class="number">0</span>,<span class="number">60</span>,<span class="number">10</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setTextColor(<span class="name">QColor</span>(<span class="number">200</span>,<span class="number">111</span>,<span class="number">100</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setFont(<span class="name">QFont</span>(<span class="string">"Helvetica"</span>))<span class="comment">;</span></span><br><span class="line">tableWidget-&gt;setItem(<span class="number">0</span>,<span class="number">3</span>,item)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>另：如果需要对所有的单元格都使用这种字体，则可以使用<code>tableWidget-&gt;setFont(QFont(&quot;Helvetica&quot;));</code></p>
<h2 id="在单元格中加入控件"><a href="#在单元格中加入控件" class="headerlink" title="在单元格中加入控件"></a>在单元格中加入控件</h2><p>QTableWidget不仅允许把文字加到单元格，还允许把控件也放到单元格中。比如，把一个下拉框加入单元格，可以这么做：<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QComboBox *comBox = new QComboBox(); </span><br><span class="line"><span class="function"><span class="title">comBox</span>-&gt;</span>addItem(<span class="string">"Y"</span>); </span><br><span class="line"><span class="function"><span class="title">comBox</span>-&gt;</span>addItem(<span class="string">"N"</span>); </span><br><span class="line"><span class="function"><span class="title">tableWidget</span>-&gt;</span>setCellWidget(<span class="number">0</span>,<span class="number">2</span>,comBox);</span><br></pre></td></tr></table></figure></p>
<p>查看QT中关于setCellWidget的帮助文档，使用setCellWidget可以在单元格中加入各种继承于QWidget类的控件：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> QTableWidget::setCellWidget ( <span class="keyword">int</span> row, <span class="keyword">int</span> column, QWidget * widget )</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>Sets the given widget to be displayed in the cell in the given row and column, passing the ownership of the widget to the table.<br>If cell widget A is replaced with cell widget B, cell widget A will be deleted. For example, in the code snippet below, the QLineEdit object will be deleted.</em></p>
</blockquote>
<p><font color="red"><strong>注意：在单元格中加入控件之后，控件内容的改变，将不会触发tableWidget的<code>void on_tableWidget_cellChanged(int row, int column);</code>槽函数！</strong></font><br>可用函数<code>tableWidget-&gt;item(row,column)</code>查看tableWidget的单元格是否有内容：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QTableWidgetItem * QTableWidget::item ( <span class="keyword">int</span> row, <span class="keyword">int</span> column ) <span class="keyword">const</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>Returns the item for the given row and column if one has been set; otherwise returns 0.</em></p>
</blockquote>
<p>在单元格加入控件后，调用<code>tableWidget-&gt;item(row,column)</code>查看对应单元格的内容，发现返回值为0。<strong>说明添加控件之后，产生的效果类似于该控件覆盖了原来的单元格，对该控件的操作不会影响到对应单元格的内容，也不会触发单元格的<code>cellChanged(int row, int column)</code>信号。</strong></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/奔跑吧你会更强大.jpg" alt="又来偷偷看我啦">
            
              <p class="site-author-name" itemprop="name">又来偷偷看我啦</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">23</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">又来偷偷看我啦</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.1</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  



  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

  <!-- 代码块复制功能 -->
<script type="text/javascript" src="/lib/zclip/clipboard.js-master"></script>	
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>
