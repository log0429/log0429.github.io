<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>C++中的const和constexpr</title>
    <url>/2020/07/16/C-%E4%B8%AD%E7%9A%84const%E5%92%8Cconstexpr/</url>
    <content><![CDATA[<p>这其实是一个遗留的命名问题，简单说const其实是readonly，constexpr才是const。</p>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>C++中的const的目的是通过编译器来保证对象的常量性，强制编译器将所有可能违背const对象的常量性的操作都视为error。<br>1.用const修饰变量的语义是要求编译器去阻止所有对该变量的赋值行为。因此，必须在const变量初始化时就提供给它初值：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> i;</span><br><span class="line">i = <span class="number">5</span>; <span class="comment">// !error</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> j = <span class="number">10</span>; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure></p>
<p>这个初值可以是编译时即确定的值，也可以是运行期才确定的值。如果给整数类型的const变量一个编译时初值，那么可以用这个变量作为声明数组时的长度：<br><figure class="highlight nimrod"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> <span class="type">COMPILE_CONST</span> = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> <span class="type">RunTimeConst</span> = cin.get();</span><br><span class="line"><span class="built_in">int</span> a1[<span class="type">COMPLIE_CONST</span>]; // ok <span class="keyword">in</span> C++ <span class="keyword">and</span> error <span class="keyword">in</span> C</span><br><span class="line"><span class="built_in">int</span> a2[<span class="type">RunTimeConst</span>]; // !error <span class="keyword">in</span> C++</span><br></pre></td></tr></table></figure></p>
<p>文件域的const变量默认是文件内可见的，如果需要在b.cpp中使用a.cpp中的const变量M，需要在M的初始化处增加extern：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//a.cpp</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">20</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//b.cpp</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> M;</span><br></pre></td></tr></table></figure></p>
<p>一般认为将变量的定义放在.h文件中会导致所有include该.h文件的.cpp文件都有此变量的定义，在链接时会造成冲突。但将const变量的定义放在.h文件中是可以的，编译器会将这个变量放入每个.cpp文件的匿名namespace中，因而属于是不同变量，不会造成链接冲突。（注意：但如果头文件中的const量的初始值依赖于某个函数，而每次调用此函数的返回值不固定的话，会导致不同的编译单元中看到的该const量的值不相等。猜测：此时将该const量作为某个类的static成员可能会解决此问题。）</p>
<p>2.const修饰引用时，其意义与修饰变量相同。但const在修饰指针时，规则就有些复杂了。<br>简单的说，可以将指针变量的类型按变量名左边最近的<code>*</code>分成两部分，右边的部分表示指针变量自己的性质，而左边的部分则表示它指向元素的性质：<br><figure class="highlight smali"><table><tr><td class="code"><pre><span class="line">const<span class="built_in"> int </span>*p1; // p1 is a non-const pointer<span class="built_in"> and </span>points to a<span class="built_in"> const </span>int</span><br><span class="line">int *<span class="built_in"> const </span>p2; // p2 is a<span class="built_in"> const </span>pointer<span class="built_in"> and </span>points to a non-const int</span><br><span class="line">const<span class="built_in"> int </span>*<span class="built_in"> const </span>p3; // p3 is a<span class="built_in"> const </span>pointer<span class="built_in"> and </span>points to a<span class="built_in"> const </span>it</span><br><span class="line">const<span class="built_in"> int </span>*pa1[10]; // pa1 is an<span class="built_in"> array </span>and contains 10 non-const pointer point to a<span class="built_in"> const </span>int</span><br><span class="line">int *<span class="built_in"> const </span>pa2[10]; // pa2 is an<span class="built_in"> array </span>and contains 10<span class="built_in"> const </span>pointer point to a non-const int</span><br><span class="line">const<span class="built_in"> int </span>(* p4)[10]; // p4 is a non-const pointer<span class="built_in"> and </span>points to an<span class="built_in"> array </span>contains 10<span class="built_in"> const </span>int</span><br><span class="line">const<span class="built_in"> int </span>(*pf)(); // pf is a non-const pointer<span class="built_in"> and </span>points to a function which has no arguments<span class="built_in"> and </span>returns a<span class="built_in"> const </span>int</span><br></pre></td></tr></table></figure></p>
<h2 id="constexpr"><a href="#constexpr" class="headerlink" title="constexpr"></a>constexpr</h2><p>constexpr是C++11中新增的关键字，其语义是“常量表达式”，也就是在编译期可求值的表达式。最基础的常量表达式就是字面值或全局变量/函数的地址或sizeof等关键字返回的结果，而其它常量表达式都是由基础表达式通过各种确定的运算得到的。constexpr值可用于enum、switch、数组长度等场合。<br>constexpr所修饰的变量一定是编译期可求值的，所修饰的函数在其所有参数都是constexpr时，一定会返回constexpr。<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="keyword">int</span> <span class="title">Inc</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> a = Inc(<span class="number">1</span>); <span class="comment">// ok</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> b = Inc(<span class="built_in">cin</span>.get()); <span class="comment">// !error</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> c = a * <span class="number">2</span> + <span class="number">1</span>; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure></p>
<p>constexpr的好处：<br>1.是一种很强的约束，更好地保证程序的正确语义不被破坏。<br>2.编译器可以在编译期对constexpr的代码进行非常大的优化，比如将用到的constexpr表达式都直接替换成最终结果等。<br>3.相比宏来说，没有额外的开销，但更安全可靠。</p>
]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo-建立文章草稿</title>
    <url>/2019/12/14/hexo-%E5%BB%BA%E7%AB%8B%E6%96%87%E7%AB%A0%E8%8D%89%E7%A8%BF/</url>
    <content><![CDATA[<h2 id="传统建立文章的方式"><a href="#传统建立文章的方式" class="headerlink" title="传统建立文章的方式"></a>传统建立文章的方式</h2><p>一般我们都会使用 <code>hexo new &lt;title&gt;</code> 来建立文章，这种建立方法会将新文章建立在 <code>source/_posts</code> 目录下，当使用 <code>hexo generate</code> 编译 markdown 文件时，会将其 HTML 结果编译在 public 目录下，之后 hexo deploy 将会把 public 目录下所有文章部署到 GitHub，这是我们熟悉的 Hexo 流程。</p>
<p>这种建立文章方式的缺点是：若我们同时编辑多篇文章，只要其中一篇文章尚未编辑完成，也会随着<code>hexo deploy</code>一起部署到 GitHub，也就是 GitHub 可能会看到我们尚未完成的文章。</p>
<h2 id="建立文章草稿"><a href="#建立文章草稿" class="headerlink" title="建立文章草稿"></a>建立文章草稿</h2><figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line">$ hexo <span class="keyword">new</span> draft &lt;<span class="built_in">title</span>&gt;</span><br></pre></td></tr></table></figure>
<p>Hexo 另外提供 draft 机制，它的原理是新文章将建立在 <code>source/_drafts</code> 目录下，因此 hexo generate 并不会将其编译到 public 目录下，所以 hexo deploy 也不会将其部署到 GitHub。</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">$ hexo S <span class="comment">--draft</span></span><br></pre></td></tr></table></figure>
<p>虽然 hexo generate 不会编译 <code>source/_drafts</code> 目录下的文章，但 Hexo 的 Hexo server 另外提供 –draft 参数，这让我们只要搭配 hexo-browsersync plugins，就可以达到一边编辑 markdown 文章，一边使用浏览器预览的目的。</p>
<h2 id="将草稿发布为正式文章"><a href="#将草稿发布为正式文章" class="headerlink" title="将草稿发布为正式文章"></a>将草稿发布为正式文章</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">$ hexo P <span class="tag">&lt;<span class="name">filename</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>其中 <filename> 为不包含 md 后缀的文章名称。它的原理只是将文章从 <code>source/_drafts</code> 移动到 <code>source/_posts</code> 而已。<strong>当然，也可以手动将文章从 <code>source/_drafts</code> 目录移动到 <code>source/_posts</code> 目录。</strong><br>之后的 <code>hexo generate</code> 与 <code>hexo deploy</code> 的用法就完全一样了。</filename></p>
<p>若日后想将正式文章转为为草稿，只需手动将文章从 <code>source/_posts</code> 目录移动到 <code>source/_drafts</code> 目录即可。</p>
]]></content>
      <categories>
        <category>hexo使用教程</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>滤波学习笔记00-前言及环境搭建</title>
    <url>/2019/12/09/%E6%BB%A4%E6%B3%A2%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B000-%E5%89%8D%E8%A8%80%E5%8F%8A%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<p><strong>本系列学习笔记基于GitHub上的一个教程——Kalman-and-Bayesian-Filters-in-Python，感谢作者，感谢开源！</strong></p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>学习教程来自GitHub，<code>https://github.com/rlabbe/Kalman-and-Bayesian-Filters-in-Python</code>，这是一本介绍卡尔曼滤波和贝叶斯滤波的教程，教程中所有的代码使用Python编写。这本教程是用Juptyer Notebook编写的，所以我们可以在浏览器上直接修改并运行书中的代码，实现作者所期望的<strong>交互式学习</strong>。<br>关于作者自己写的前言、教程介绍、写作缘起之类的，可以在该项目的<code>README</code>文件中细品。我在这里主要记录如何配置环境实现作者期望的交互式学习。</p>
<h2 id="阅读教程的两种方式"><a href="#阅读教程的两种方式" class="headerlink" title="阅读教程的两种方式"></a>阅读教程的两种方式</h2><ol>
<li><p>在线阅读<br>在GitHub上进入这个项目，在该项目的<code>README</code>文件中点击作者提供的对应链接，可以在线阅读此教程，还可以获取教程的PDF版本。</p>
</li>
<li><p>交互式阅读<br>作者极力推荐这种学习方式，这也是这本教程的设计意图。<br>为了实现交互式阅读，需要先进行一番配置，安装一些支持包。同样，作者在<code>README</code>文件中也给出了安装说明，下面将记录详细过程。</p>
</li>
</ol>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><ol>
<li><p>安装Anaconda(第一次安装选择了清华镜像网站下载的版本，有问题后重新安装了官网的)<br><strong>实现这本教程的交互式阅读需要Jupyter notebook, IPython, Jupyter, NumPy, SciPy, SymPy, Matplotlib等软件和支持包，所有的这些都可以通过安装Anaconda来一次性完成安装。</strong></p>
<p>Anaconda指的是一个<strong>开源的Python发行版本</strong>，其包含了conda、Python等180多个科学包及其依赖项。 因为包含了大量的科学包，Anaconda 的下载文件比较大（约 531 MB），如果只需要某些包，或者需要节省带宽或存储空间，也可以使用Miniconda这个较小的发行版（仅包含conda和 Python）。<br>Conda是一个开源的包、环境管理器，可以用于在同一个机器上安装不同版本的软件包及其依赖，并能够在不同的环境之间切换。</p>
<p>可以从Anaconda官网下载Anaconda，<a href="https://www.anaconda.com/distribution/#download-section" target="_blank" rel="noopener">https://www.anaconda.com/distribution/#download-section</a>。</p>
<p>但官方下载很慢，推荐从清华镜像网站下载：<br><a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</a>。</p>
<p><strong>安装过程中记得勾选添加路径到环境变量，若忘记需要安装完成后手动添加。</strong></p>
<p>顺便备注一下Jupyter notebook, IPython, Jupyter, NumPy, SciPy, SymPy, Matplotlib这些软件和支持包的作用：</p>
<blockquote>
<p>Jupyter notebook is the software that allows you to run Python inside of the browser - the book is a collection of Jupyter notebooks. IPython provides the infrastructure for Jupyter and data visualization. NumPy and Scipy are packages which provide the linear algebra implementation that the filters use. Sympy performs symbolic math - I use it to find derivatives of algebraic equations. Finally, Matplotlib provides plotting capability.</p>
</blockquote>
</li>
<li><p>安装FilterPy<br>FilterPy是教程作者写的一个库，使用<code>pip</code>进行安装。<br>pip是Python包管理工具，该工具提供了对Python包的查找、下载、安装、卸载的功能。Python 2.7.9 + 或 Python 3.4+ 以上版本都自带pip工具。</p>
<blockquote>
<p>FilterPy is a Python library that implements all of the filters used in this book, and quite a few others. Installation is easy using pip. Issue the following from the command prompt:<br><code>pip install filterpy</code></p>
</blockquote>
</li>
</ol>
<h2 id="下载和运行教材"><a href="#下载和运行教材" class="headerlink" title="下载和运行教材"></a>下载和运行教材</h2><p>教材放在一个github repository中，使用如下命令下载：<br><code>git clone --depth=1 https://github.com/rlabbe/Kalman-and-Bayesian-Filters-in-Python.git</code><br>这个命令会创建出一个名为<code>Kalman-and-Bayesian-Filters-in-Python</code>的文件夹，定位到这个文件夹下，运行Jupyter notebook：<br><figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">cd Kalman-<span class="built_in">and</span>-Bayesian-<span class="built_in">Filters</span>-<span class="built_in">in</span>-Python</span><br><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure></p>
<p>它将会打开一个浏览器窗口，显示根目录的内容。这本书分成许多章，每个章节都命名为xx-name.ipynb，其中xx是章节号，.ipynb是Notebook文件的扩展名。</p>
<h2 id="遇到的问题-这一部分可以不用看了，我不打算解决这些问题，我选择重新安装"><a href="#遇到的问题-这一部分可以不用看了，我不打算解决这些问题，我选择重新安装" class="headerlink" title="遇到的问题(这一部分可以不用看了，我不打算解决这些问题，我选择重新安装)"></a>遇到的问题(这一部分可以不用看了，我不打算解决这些问题，我选择重新安装)</h2><ol>
<li>运行Jupyter notebook时报错：</li>
</ol>
<figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\S</span>cripts<span class="symbol">\j</span>upyter-notebook-script.py", line 6, in &lt;module&gt;</span><br><span class="line">    from notebook.notebookapp import main</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\n</span>otebook<span class="symbol">\n</span>otebookapp.py", line 47, in &lt;module&gt;</span><br><span class="line">    from zmq.eventloop import ioloop</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\_</span>_init__.py", line 47, in &lt;module&gt;</span><br><span class="line">    from zmq import backend</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\_</span>_init__.py", line 40, in &lt;module&gt;</span><br><span class="line">    reraise(*exc_info)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\u</span>tils<span class="symbol">\s</span>ixcerpt.py", line 34, in reraise</span><br><span class="line">    raise value</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\_</span>_init__.py", line 27, in &lt;module&gt;</span><br><span class="line">    _ns = select_backend(first)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\s</span>elect.py", line 27, in select_backend</span><br><span class="line">    mod = __import__(name, fromlist=public_api)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\z</span>mq<span class="symbol">\b</span>ackend<span class="symbol">\c</span>ython<span class="symbol">\_</span>_init__.py", line 6, in &lt;module&gt;</span><br><span class="line">    from . import (constants, error, message, context,</span><br><span class="line">ImportError: DLL load failed: 找不到指定的模块。</span><br></pre></td></tr></table></figure>
<p>解决方法：重装pyzmq<br><code>pip uninstall pyzmq</code></p>
<p><code>pip install pyzmq</code></p>
<p>如果使用命令行无法卸载，则手动卸载。<br><figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">Exception:</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>hutil.py", line 557, in move</span><br><span class="line">    os.rename(src, real_dst)</span><br><span class="line">PermissionError: [WinError 5] 拒绝访问。: 'c:<span class="symbol">\\</span>programdata<span class="symbol">\\</span>anaconda3<span class="symbol">\\</span>lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>__pycache__<span class="symbol">\\</span>pylab.cpython-37.pyc' -&gt; 'C:<span class="symbol">\\</span>Users<span class="symbol">\\</span>LUO<span class="symbol">\\</span>AppData<span class="symbol">\\</span>Local<span class="symbol">\\</span>Temp<span class="symbol">\\</span>pip-uninstall-shz5whnk<span class="symbol">\\</span>programdata<span class="symbol">\\</span>anaconda3<span class="symbol">\\</span>lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>__pycache__<span class="symbol">\\</span>pylab.cpython-37.pyc'</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\p</span>ip<span class="symbol">\_</span>internal<span class="symbol">\b</span>asecommand.py", line 228, in main</span><br><span class="line">    status = self.run(options, args)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\p</span>ip<span class="symbol">\_</span>internal<span class="symbol">\c</span>ommands<span class="symbol">\u</span>ninstall.py", line 68, in run</span><br><span class="line">    auto_confirm=options.yes, verbose=self.verbosity &gt; 0,</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\p</span>ip<span class="symbol">\_</span>internal<span class="symbol">\r</span>eq<span class="symbol">\r</span>eq_install.py", line 661, in uninstall</span><br><span class="line">    uninstalled_pathset.remove(auto_confirm, verbose)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\p</span>ip<span class="symbol">\_</span>internal<span class="symbol">\r</span>eq<span class="symbol">\r</span>eq_uninstall.py", line 219, in remove</span><br><span class="line">    renames(path, new_path)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>ite-packages<span class="symbol">\p</span>ip<span class="symbol">\_</span>internal<span class="symbol">\u</span>tils<span class="symbol">\m</span>isc.py", line 273, in renames</span><br><span class="line">    shutil.move(old, new)</span><br><span class="line">  File "C:<span class="symbol">\P</span>rogramData<span class="symbol">\A</span>naconda3<span class="symbol">\l</span>ib<span class="symbol">\s</span>hutil.py", line 572, in move</span><br><span class="line">    os.unlink(src)</span><br><span class="line">PermissionError: [WinError 5] 拒绝访问。: 'c:<span class="symbol">\\</span>programdata<span class="symbol">\\</span>anaconda3<span class="symbol">\\</span>lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>__pycache__<span class="symbol">\\</span>pylab.cpython-37.pyc'</span><br></pre></td></tr></table></figure></p>
<p>直接全局搜索对应文件，具体包括 “package name” 文件夹 和 “package name”.egg-info ，找到后直接删除即可。<br>在这个问题中，找到<code>pyzmq-17.1.2-py3.7.egg-info</code>文件夹和<code>zmq</code>文件夹，手动删除，然后运行<code>pip install pyzmq</code>命令重新安装。</p>
<ol start="2">
<li>运行教程中的代码时报错</li>
</ol>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">ImportError                               Traceback (most recent call last)</span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">numpy</span>\<span class="title">core</span>\<span class="title">__init__</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">     <span class="number">15</span> <span class="symbol">try:</span></span><br><span class="line">---&gt; <span class="number">16</span>     from . import multiarray</span><br><span class="line">     <span class="number">17</span> except ImportError <span class="keyword">as</span> <span class="symbol">exc:</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">ImportError:</span> DLL load <span class="symbol">failed:</span> 找不到指定的模块。</span><br><span class="line"></span><br><span class="line">During handling <span class="keyword">of</span> the above exception, another exception <span class="symbol">occurred:</span></span><br><span class="line"></span><br><span class="line">ImportError                               Traceback (most recent call last)</span><br><span class="line">&lt;ipython-input-<span class="number">7</span>-<span class="number">44</span>ce08f6fafe&gt; in &lt;<span class="class"><span class="keyword">module</span>&gt;()</span></span><br><span class="line">      <span class="number">1</span> <span class="comment">#format the book</span></span><br><span class="line">----&gt; <span class="number">2</span> import book_format</span><br><span class="line">      <span class="number">3</span> book_format.set_style()</span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\Kalman-and-Bayesian-Filters-in-Python\book_format.py in &lt;<span class="class"><span class="keyword">module</span>&gt;()</span></span><br><span class="line">     <span class="number">20</span> from IPython.core.display import HTML</span><br><span class="line">     <span class="number">21</span> import json</span><br><span class="line">---&gt; <span class="number">22</span> import matplotlib</span><br><span class="line">     <span class="number">23</span> import matplotlib.pylab <span class="keyword">as</span> pylab</span><br><span class="line">     <span class="number">24</span> import matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">matplotlib</span>\<span class="title">__init__</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">    <span class="number">124</span> <span class="comment"># cbook must import matplotlib only within function</span></span><br><span class="line">    <span class="number">125</span> <span class="comment"># definitions, so it is safe to import from it here.</span></span><br><span class="line">--&gt; <span class="number">126</span> from . import cbook</span><br><span class="line">    <span class="number">127</span> from matplotlib.cbook import (</span><br><span class="line">    <span class="number">128</span>     _backports, mplDeprecation, dedent, get_label, sanitize_sequence)</span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">matplotlib</span>\<span class="title">cbook</span>\<span class="title">__init__</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">     <span class="number">32</span> from weakref import ref, WeakKeyDictionary</span><br><span class="line">     <span class="number">33</span> </span><br><span class="line">---&gt; <span class="number">34</span> import numpy <span class="keyword">as</span> np</span><br><span class="line">     <span class="number">35</span> </span><br><span class="line">     <span class="number">36</span> import matplotlib</span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">numpy</span>\<span class="title">__init__</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">    <span class="number">140</span>         <span class="keyword">return</span> loader(*packages, **options)</span><br><span class="line">    <span class="number">141</span> </span><br><span class="line">--&gt; <span class="number">142</span>     from . import add_newdocs</span><br><span class="line">    <span class="number">143</span>     __all__ = [<span class="string">'add_newdocs'</span>,</span><br><span class="line">    <span class="number">144</span>                <span class="string">'ModuleDeprecationWarning'</span>,</span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">numpy</span>\<span class="title">add_newdocs</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">     <span class="number">11</span> from __future__ import division, absolute_import, print_function</span><br><span class="line">     <span class="number">12</span> </span><br><span class="line">---&gt; <span class="number">13</span> from numpy.<span class="keyword">lib</span> import add_newdoc</span><br><span class="line">     <span class="number">14</span> </span><br><span class="line">     <span class="number">15</span> <span class="comment">###############################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">numpy</span>\<span class="title">lib</span>\<span class="title">__init__</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">      <span class="number">6</span> from numpy.version import version <span class="keyword">as</span> __version__</span><br><span class="line">      <span class="number">7</span> </span><br><span class="line">----&gt; <span class="number">8</span> from .type_check import *</span><br><span class="line">      <span class="number">9</span> from .index_tricks import *</span><br><span class="line">     <span class="number">10</span> from .function_base import *</span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">numpy</span>\<span class="title">lib</span>\<span class="title">type_check</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">      <span class="number">9</span>            <span class="string">'common_type'</span>]</span><br><span class="line">     <span class="number">10</span> </span><br><span class="line">---&gt; <span class="number">11</span> import numpy.core.numeric <span class="keyword">as</span> _nx</span><br><span class="line">     <span class="number">12</span> from numpy.core.numeric import asarray, asanyarray, array, isnan, zeros</span><br><span class="line">     <span class="number">13</span> from .ufunclike import isneginf, isposinf</span><br><span class="line"></span><br><span class="line"><span class="symbol">C:</span>\ProgramData\Anaconda3\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>\<span class="title">numpy</span>\<span class="title">core</span>\<span class="title">__init__</span>.<span class="title">py</span> <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line">     <span class="number">24</span> Original error <span class="symbol">was:</span> %s</span><br><span class="line">     <span class="number">25</span> <span class="string">""</span><span class="string">" % (exc,)</span></span><br><span class="line"><span class="string">---&gt; 26     raise ImportError(msg)</span></span><br><span class="line"><span class="string">     27 finally:</span></span><br><span class="line"><span class="string">     28     for envkey in env_added:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ImportError: </span></span><br><span class="line"><span class="string">Importing the multiarray numpy extension module failed.  Most</span></span><br><span class="line"><span class="string">likely you are trying to import a failed build of numpy.</span></span><br><span class="line"><span class="string">If you're working with a numpy git repo, try `git clean -xdf` (removes all</span></span><br><span class="line"><span class="string">files not under version control).  Otherwise reinstall numpy.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Original error was: DLL load failed: 找不到指定的模块。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">ImportError                               Traceback (most recent call last)</span><br><span class="line">&lt;ipython-input-<span class="number">1</span>-f1841272a015&gt; <span class="built_in">in</span> &lt;module&gt;()</span><br><span class="line">----&gt; <span class="number">1</span> <span class="keyword">import</span> kf_book.book_plots <span class="keyword">as</span> book_plots</span><br><span class="line">      <span class="number">2</span> from kf_book.book_plots <span class="keyword">import</span> plot_errorbars</span><br><span class="line">      <span class="number">3</span> plot_errorbars([(<span class="number">160</span>, <span class="number">8</span>, <span class="string">'A'</span>), (<span class="number">170</span>, <span class="number">8</span>, <span class="string">'B'</span>)], xlims=(<span class="number">150</span>, <span class="number">180</span>))</span><br><span class="line"></span><br><span class="line">C:\Kalman-<span class="built_in">and</span>-Bayesian-<span class="built_in">Filters</span>-<span class="built_in">in</span>-Python\kf_book\book_plots.py <span class="built_in">in</span> &lt;module&gt;()</span><br><span class="line">     <span class="number">24</span> <span class="keyword">import</span> ipywidgets</span><br><span class="line">     <span class="number">25</span> <span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line">---&gt; <span class="number">26</span> <span class="keyword">import</span> matplotlib.pylab <span class="keyword">as</span> pylab</span><br><span class="line">     <span class="number">27</span> <span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">     <span class="number">28</span> from matplotlib.patches <span class="keyword">import</span> Circle</span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\site-packages\matplotlib\pylab.py <span class="built_in">in</span> &lt;module&gt;()</span><br><span class="line">    <span class="number">250</span>     window_hanning, window_none)</span><br><span class="line">    <span class="number">251</span> </span><br><span class="line">--&gt; <span class="number">252</span> from matplotlib <span class="keyword">import</span> cbook, mlab, pyplot <span class="keyword">as</span> plt</span><br><span class="line">    <span class="number">253</span> from matplotlib.pyplot <span class="keyword">import</span> *</span><br><span class="line">    <span class="number">254</span> </span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\site-packages\matplotlib\pyplot.py <span class="built_in">in</span> &lt;module&gt;()</span><br><span class="line">     <span class="number">29</span> from cycler <span class="keyword">import</span> cycler</span><br><span class="line">     <span class="number">30</span> <span class="keyword">import</span> matplotlib</span><br><span class="line">---&gt; <span class="number">31</span> <span class="keyword">import</span> matplotlib.colorbar</span><br><span class="line">     <span class="number">32</span> from matplotlib <span class="keyword">import</span> style</span><br><span class="line">     <span class="number">33</span> from matplotlib <span class="keyword">import</span> _pylab_helpers, interactive</span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\site-packages\matplotlib\colorbar.py <span class="built_in">in</span> &lt;module&gt;()</span><br><span class="line">     <span class="number">34</span> <span class="keyword">import</span> matplotlib.collections <span class="keyword">as</span> collections</span><br><span class="line">     <span class="number">35</span> <span class="keyword">import</span> matplotlib.colors <span class="keyword">as</span> colors</span><br><span class="line">---&gt; <span class="number">36</span> <span class="keyword">import</span> matplotlib.contour <span class="keyword">as</span> contour</span><br><span class="line">     <span class="number">37</span> <span class="keyword">import</span> matplotlib.cm <span class="keyword">as</span> cm</span><br><span class="line">     <span class="number">38</span> <span class="keyword">import</span> matplotlib.gridspec <span class="keyword">as</span> gridspec</span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\site-packages\matplotlib\contour.py <span class="built_in">in</span> &lt;module&gt;()</span><br><span class="line">     <span class="number">18</span> <span class="keyword">import</span> matplotlib.colors <span class="keyword">as</span> colors</span><br><span class="line">     <span class="number">19</span> <span class="keyword">import</span> matplotlib.collections <span class="keyword">as</span> mcoll</span><br><span class="line">---&gt; <span class="number">20</span> <span class="keyword">import</span> matplotlib.font_manager <span class="keyword">as</span> font_manager</span><br><span class="line">     <span class="number">21</span> <span class="keyword">import</span> matplotlib.<span class="keyword">text</span> <span class="keyword">as</span> <span class="keyword">text</span></span><br><span class="line">     <span class="number">22</span> <span class="keyword">import</span> matplotlib.cbook <span class="keyword">as</span> cbook</span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\site-packages\matplotlib\font_manager.py <span class="built_in">in</span> &lt;module&gt;()</span><br><span class="line">     <span class="number">56</span> <span class="keyword">import</span> logging</span><br><span class="line">     <span class="number">57</span> </span><br><span class="line">---&gt; <span class="number">58</span> from matplotlib <span class="keyword">import</span> afm, cbook, ft2font, rcParams, get_cachedir</span><br><span class="line">     <span class="number">59</span> from matplotlib.compat <span class="keyword">import</span> subprocess</span><br><span class="line">     <span class="number">60</span> from matplotlib.fontconfig_pattern <span class="keyword">import</span> (</span><br><span class="line"></span><br><span class="line">ImportError: DLL load failed: 找不到指定的模块。</span><br></pre></td></tr></table></figure>
<font color="red"><strong>wocccccccccccc!<br>怎么这么多莫名其妙的报错！顶不住了，重新安装Anaconda！！！</strong></font>

<h2 id="卸载Anaconda"><a href="#卸载Anaconda" class="headerlink" title="卸载Anaconda"></a>卸载Anaconda</h2><p>在Anaconda安装目录（如C:\ProgramData\Anaconda3）下找到Uninstall-Anaconda2.exe 运行即可。</p>
<h2 id="重新安装Anaconda"><a href="#重新安装Anaconda" class="headerlink" title="重新安装Anaconda"></a>重新安装Anaconda</h2><font color="red"><strong>从官网下载Anaconda，<a href="https://www.anaconda.com/distribution/#download-section" target="_blank" rel="noopener">https://www.anaconda.com/distribution/#download-section</a></strong></font>

<p><strong>安装过程中不勾选添加路径到环境变量中，安装完成后自己手动添加环境变量</strong><br><img src="/images/Anaconda安装_环境变量.png" alt></p>
<p><strong>添加环境变量</strong><br>主要有两个环境的配置:<br>1.anaconda安装路径（为了Python检查正常）:前面安装时路径一定要记清楚，我的默认路径是 <code>C:\ProgramData\Anaconda3</code><br>2.安装路径\scripts（为了conda检查正常）:只需在上述路径中找到scripts，然后复制路径即可，我的默认路径是 <code>C:\ProgramData\Anaconda3\Scripts</code></p>
<p><strong>检查</strong><br>1.检查Python<br>cmd命令行输入Python，显示如下即说明安装正确：<br><img src="/images/Anaconda安装_激活Python.png" alt></p>
<p>可能会出现如下警告，因为安装的是Anaconda中带的python版本，python处于conda环境中，使用python需要激活，否则无法引入已经安装好的库。<br><img src="/images/Anaconda安装_检查Python报错.png" alt></p>
<p>解决方法如下：<br>首先，在cmd中输入 <code>conda info --envs</code>，查看Anaconda的位置，复制base后面的位置信息。<br>接下来，在cmd中输入 <code>conda activate + base</code> 后面的路径，进行激活。<br><img src="/images/Anaconda安装_conda_activate.png" alt><br>激活成功，命令行前面会加一个(base)，此时可以运行python,可以导入相关的库。</p>
<p>执行完成后可在cmd中输入 <code>conda deactivate</code> 关闭激活。<br><strong>每次使用Python前都需要激活一下。</strong></p>
<p>2.检查conda<br>cmd命令行输入conda，显示如下即说明安装正确：<br><img src="/images/Anaconda安装_检查conda.png" alt></p>
<p><strong>注意，这两个都不要有warning的信息，否则要找出问题。</strong></p>
]]></content>
      <categories>
        <category>Kalman-and-Bayesian-Filters-in-Python学习</category>
      </categories>
      <tags>
        <tag>滤波</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>C/C++_分割字符串</title>
    <url>/2019/12/03/C-C-%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    <content><![CDATA[<p>这篇是抄下来备忘的，原文: <a href="https://cloud.tencent.com/developer/article/1525278" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1525278</a></p>
<h2 id="给定一个分隔符（单个字符或子串）分割字符串"><a href="#给定一个分隔符（单个字符或子串）分割字符串" class="headerlink" title="给定一个分隔符（单个字符或子串）分割字符串"></a>给定一个分隔符（单个字符或子串）分割字符串</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@brief: 指定单个分隔符（单个字符或子串）分割字符串</span></span><br><span class="line"><span class="comment">//@param: src 原字符串；delimiter 分隔符，单个字符或子串</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; splitStr(<span class="keyword">const</span> <span class="built_in">string</span>&amp; src, <span class="keyword">const</span> <span class="built_in">string</span>&amp; delimiter) &#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vetStr;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 入参检查</span></span><br><span class="line">	<span class="comment">// 1.原字符串为空或等于分隔符，返回空 vector</span></span><br><span class="line">	<span class="keyword">if</span> (src == <span class="string">""</span> || src == delimiter) &#123;</span><br><span class="line">		<span class="keyword">return</span> vetStr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 2.分隔符为空返回单个元素为原字符串的 vector</span></span><br><span class="line">	<span class="keyword">if</span> (delimiter == <span class="string">""</span>) &#123;</span><br><span class="line">		vetStr.push_back(src);</span><br><span class="line">		<span class="keyword">return</span> vetStr;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">string</span>::size_type startPos = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">auto</span> index = src.find(delimiter);</span><br><span class="line">	<span class="keyword">while</span> (index != <span class="built_in">string</span>::npos) &#123;</span><br><span class="line">		<span class="keyword">auto</span> str = src.substr(startPos, index - startPos);</span><br><span class="line">		<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">			vetStr.push_back(str);</span><br><span class="line">		&#125;</span><br><span class="line">		startPos = index + delimiter.length();</span><br><span class="line">		index = src.find(delimiter, startPos);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 取最后一个子串</span></span><br><span class="line">	<span class="keyword">auto</span> str = src.substr(startPos);</span><br><span class="line">	<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">		vetStr.push_back(str);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> vetStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试如下：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> str = <span class="string">"I,love,China"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 正常分割</span></span><br><span class="line">	<span class="keyword">auto</span> vetStr = splitStr(str, <span class="string">","</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 边界测试</span></span><br><span class="line">	vetStr = splitStr(str, <span class="string">"I,"</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 不包含分隔符</span></span><br><span class="line">	vetStr = splitStr(str, <span class="string">"what"</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出结果：<br><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">3</span></span><br><span class="line">I love China</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">love,China</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">I,love,China</span><br></pre></td></tr></table></figure></p>
<h2 id="给定一个或多个分隔符（单个字符），分割字符串"><a href="#给定一个或多个分隔符（单个字符），分割字符串" class="headerlink" title="给定一个或多个分隔符（单个字符），分割字符串"></a>给定一个或多个分隔符（单个字符），分割字符串</h2><p>实现和单个分隔符（单个字符或子串）分割字符串基本一致，关键地方是将获取分隔符下标的函数由 std::string::find(…) 改为 std::string::find_first_of(…)。二者的区别如下：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span>::find(...)</span><br><span class="line">	将分隔符看作一个整体在原字符串中查找并返回匹配的下标，比如 <span class="built_in">string</span>(<span class="string">"I love China"</span>).find(<span class="string">"love"</span>) 返回 <span class="number">2</span>。</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span>::find_first_of(...)</span><br><span class="line">	在字符串中搜索分隔符中任意一个字符出现的第一个位置。与 <span class="built_in">std</span>::<span class="built_in">string</span>::find(...) 的区别是不需要整个分隔符匹配，只需要分隔符中的单个字符匹配即可。</span><br></pre></td></tr></table></figure></p>
<p>具体实现如下：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//@brief: 指定单个或多个分隔符（单个字符）分割字符串</span></span><br><span class="line"><span class="comment">//@param: src 原字符串；delimiter 单个或多个分隔符（单个字符）</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; splitStr(<span class="keyword">const</span> <span class="built_in">string</span>&amp; src, <span class="keyword">const</span> <span class="built_in">string</span>&amp; delimiter) &#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vtStr;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 入参检查</span></span><br><span class="line">	<span class="comment">// 1.原字符串为空返回空 vector</span></span><br><span class="line">	<span class="keyword">if</span> (src == <span class="string">""</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> vtStr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 2.分隔符为空返回单个元素为原字符串的 vector</span></span><br><span class="line">	<span class="keyword">if</span> (delimiter == <span class="string">""</span>) &#123;</span><br><span class="line">		vtStr.push_back(src);</span><br><span class="line">		<span class="keyword">return</span> vtStr;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">string</span>::size_type startPos = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">auto</span> index = src.find_first_of(delimiter);</span><br><span class="line">	<span class="keyword">while</span> (index != <span class="built_in">string</span>::npos) &#123;</span><br><span class="line">		<span class="keyword">auto</span> str = src.substr(startPos, index - startPos);</span><br><span class="line">		<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">			vtStr.push_back(str);</span><br><span class="line">		&#125;</span><br><span class="line">		startPos = index + <span class="number">1</span>;</span><br><span class="line">		index = src.find_first_of(delimiter, startPos);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 取最后一个子串</span></span><br><span class="line">	<span class="keyword">auto</span> str = src.substr(startPos);</span><br><span class="line">	<span class="keyword">if</span> (str != <span class="string">""</span>) &#123;</span><br><span class="line">		vtStr.push_back(str);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> vtStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>测试如下：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> str = <span class="string">"I,love,China"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 正常分割。按照 h 与逗号分割</span></span><br><span class="line">	<span class="keyword">auto</span> vetStr = splitStr(str, <span class="string">"h,"</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 边界测试</span></span><br><span class="line">	vetStr = splitStr(str, <span class="string">"Ia"</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 不包含分隔符</span></span><br><span class="line">	vetStr = splitStr(str, <span class="string">"_:"</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"vetStr.size() = "</span> &lt;&lt; vetStr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> v : vetStr) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出结果：<br><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">4</span></span><br><span class="line">I love C ina</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">,love,Chin</span><br><span class="line">vetStr.<span class="built_in">size</span>() = <span class="number">1</span></span><br><span class="line">I,love,China</span><br></pre></td></tr></table></figure></p>
<font color="red"><strong>注意，本文实现时，如果被分割后的子串为空串，则不计入最终的子串序列。比如原字符串是”a,b”，分隔符为”,”，那么分割后的子串序列为 [“a”, “b”]，而不是 [“a”, “”, “b”]。<br>当给定的分隔符不在原字符串中，则原字符串不被分割，返回单个元素为原字符串的 vector。</strong></font>

]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>QT_分割字符串</title>
    <url>/2019/12/03/QT-%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    <content><![CDATA[<h2 id="按照指定的字符串分割-split，单个分隔符"><a href="#按照指定的字符串分割-split，单个分隔符" class="headerlink" title="按照指定的字符串分割_split，单个分隔符"></a>按照指定的字符串分割_split，单个分隔符</h2><figure class="highlight nix"><table><tr><td class="code"><pre><span class="line">QString <span class="attr">str</span> = <span class="string">"hello,world"</span></span><br><span class="line">QStringList <span class="attr">list</span> = str.split(<span class="string">","</span>);</span><br><span class="line">QString <span class="attr">a</span> = list[<span class="number">0</span>]; //<span class="attr">a</span> = <span class="string">"hello"</span></span><br><span class="line">QString <span class="attr">b</span> = list[<span class="number">1</span>]; //<span class="attr">b</span> = <span class="string">"world"</span></span><br><span class="line">QString <span class="attr">str2</span> = b.append(a);</span><br><span class="line"><span class="attr">str2</span> = <span class="string">"worldhello"</span></span><br></pre></td></tr></table></figure>
<h2 id="按照指定的字符串分割-split，多个分隔符，正则表达式"><a href="#按照指定的字符串分割-split，多个分隔符，正则表达式" class="headerlink" title="按照指定的字符串分割_split，多个分隔符，正则表达式"></a>按照指定的字符串分割_split，多个分隔符，正则表达式</h2><figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">//时间格式：<span class="number">2018</span><span class="number">-12</span><span class="number">-24</span> <span class="number">7</span>:<span class="number">47</span>:<span class="number">49.200</span></span><br><span class="line">double ep[<span class="number">6</span>]=&#123;<span class="number">0.0</span>&#125;;</span><br><span class="line"><span class="symbol">QStringList</span> list_time = str_time.split(<span class="symbol">QRegExp</span>(<span class="string">"[- :]"</span>));// 分割<span class="string">"-"</span>,空格和<span class="string">":"</span>  list_time: [ <span class="string">"2018"</span>, <span class="string">"12"</span>, <span class="string">"24"</span>, <span class="string">"7"</span>, <span class="string">"47"</span>, <span class="string">"49.200"</span>]</span><br><span class="line">ep[<span class="number">0</span>]=list_time[<span class="number">0</span>].toDouble();</span><br><span class="line">ep[<span class="number">1</span>]=list_time[<span class="number">1</span>].toDouble();</span><br><span class="line">ep[<span class="number">2</span>]=list_time[<span class="number">2</span>].toDouble();</span><br><span class="line">ep[<span class="number">3</span>]=list_time[<span class="number">3</span>].toDouble();</span><br><span class="line">ep[<span class="number">4</span>]=list_time[<span class="number">4</span>].toDouble();</span><br><span class="line">ep[<span class="number">5</span>]=list_time[<span class="number">5</span>].toDouble();</span><br></pre></td></tr></table></figure>
<h2 id="按照指定位置分割-mid"><a href="#按照指定位置分割-mid" class="headerlink" title="按照指定位置分割_mid"></a>按照指定位置分割_mid</h2><p>一个参数表示从该位置截取到字符串尾<br>两个参数表示从该位置开始截取n个字符<br><figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">QString</span> <span class="keyword">str </span>= <span class="string">"helloworld"</span></span><br><span class="line"><span class="symbol">QString</span> a = <span class="keyword">str.mid(0, </span><span class="number">5</span>)<span class="comment">;//0表示位置, 5表示从该位置开始后面5个字符</span></span><br><span class="line"><span class="symbol">QString</span> <span class="keyword">b </span>= <span class="keyword">str.mid(5);</span></span><br><span class="line"><span class="keyword">QString </span><span class="keyword">str2 </span>= <span class="keyword">b.append(a);</span></span><br><span class="line"><span class="keyword">str2 </span>= <span class="string">"worldhello"</span></span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>QT总结</category>
      </categories>
      <tags>
        <tag>QT</tag>
      </tags>
  </entry>
  <entry>
    <title>next主题-头像设置</title>
    <url>/2019/12/01/next%E4%B8%BB%E9%A2%98-%E5%A4%B4%E5%83%8F%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<p><img src="/images/next主题-添加头像.gif" alt></p>
<h2 id="添加头像"><a href="#添加头像" class="headerlink" title="添加头像"></a>添加头像</h2><p>打开<code>themes/next</code>下的<code>_config.yml</code>文件，搜索<code>Sidebar Avatar</code>关键字，在<code>url:</code>后面加入你的头像图片路径。<br>可以使用本地图片,把图片放入<code>themes/next/source/images</code>下,加入图片路径如下：<br><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="meta"># Sidebar Avatar</span></span><br><span class="line"><span class="symbol">avatar:</span></span><br><span class="line">  <span class="meta"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="meta"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="meta"># You can also use other linking images.</span></span><br><span class="line"><span class="symbol">  url:</span> <span class="meta-keyword">/images/</span>奔跑吧你会更强大.jpg</span><br></pre></td></tr></table></figure></p>
<h2 id="设置头像边框为圆形框-鼠标放置头像上旋转"><a href="#设置头像边框为圆形框-鼠标放置头像上旋转" class="headerlink" title="设置头像边框为圆形框  鼠标放置头像上旋转"></a>设置头像边框为圆形框  鼠标放置头像上旋转</h2><p>将rounded置为true可以设置头像边框为圆形框，将rotated置为true可以设置鼠标放置头像上旋转效果。<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line"><span class="attr">  url:</span> <span class="string">/images/奔跑吧你会更强大.jpg</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line"><span class="attr">  rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># The value of opacity should be choose from 0 to 1 to set the opacity of the avatar.</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line"><span class="attr">  rotated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>hexo使用教程</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>next主题</tag>
      </tags>
  </entry>
  <entry>
    <title>PLC__编程注意事项</title>
    <url>/2019/11/30/PLC-%E7%BC%96%E7%A8%8B%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
    <content><![CDATA[<h2 id="每个LAD程序段都必须使用线圈或功能框指令来终止"><a href="#每个LAD程序段都必须使用线圈或功能框指令来终止" class="headerlink" title="每个LAD程序段都必须使用线圈或功能框指令来终止"></a>每个LAD程序段都必须使用线圈或功能框指令来终止</h2><h2 id="不能创建可能导致反向能流的分支"><a href="#不能创建可能导致反向能流的分支" class="headerlink" title="不能创建可能导致反向能流的分支"></a>不能创建可能导致反向能流的分支</h2><p><img src="/images/LAD_反向能流.jpg" alt><br>如上图所示出点A、B、C、D接通时，有一个假想的“概念电流”或“能流”（Power Flow）从左向右流动，这一方向与执行用户程序时的逻辑运算的顺序是一致的。<strong>能流只能从左向右流动。</strong><br>上图中可能有两个方向的能流流经触电F（经过触点A、B、F、H、G、D或经过触点E、F、C、D），这不符合能流只能从左向右流动的原则。</p>
<h2 id="不能创建可能导致短路的分支"><a href="#不能创建可能导致短路的分支" class="headerlink" title="不能创建可能导致短路的分支"></a>不能创建可能导致短路的分支</h2><p><img src="/images/LAD_短路分支.jpg" alt></p>
]]></content>
      <categories>
        <category>PLC</category>
      </categories>
      <tags>
        <tag>PLC</tag>
      </tags>
  </entry>
  <entry>
    <title>PLC_数据类型和数据存储</title>
    <url>/2019/11/30/PLC-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/</url>
    <content><![CDATA[<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p><strong>数据类型用于指定数据元素的大小以及如何解释数据。</strong><br>基本数据类型包括位、字节、字、双字、整型、双整型、浮点数、S5时间数据类型。<br>这里先列出我目前常用的数据类型，剩下的以后遇到再补充：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">位和位序列数据类型</td>
<td style="text-align:left">- Bool是布尔值或位值<br> - Byte是8位字节值，其中0位为最低位，7位为最高位<br> - Word是16位值<br> - DWord是32位双字值</td>
</tr>
<tr>
<td style="text-align:left">整数数据类型</td>
<td style="text-align:left">- USInt（无符号8位整数）和SInt（有符号8位整数）可以是有符号或无符号的“短”整型（内存为8位或1个字节）<br> - UInt（无符号16位整数）和Int（有符号16位整数）可以是有符号或无符号的整型（内存为16位或1个字）<br> - UDInt（无符号32位整数）和DInt（有符号32位整数）可以是有符号或无符号的双整型（内存为32位或1个双字）</td>
</tr>
</tbody>
</table>
<h2 id="数据存储"><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h2><p>为了更好地理解CPU的存储区结构及其寻址方式，以下段落将对PLC变量所引用的“绝对”寻址进行说明。CPU 提供了以下几个选项，用于在执行用户程序期间存储数据：</p>
<ul>
<li>全局存储器：CPU提供了各种专用存储区，其中包括输入(I)、输出(Q)和位存储器(M)。所有代码块可以无限制地访问该储存器。</li>
<li>数据块 (DB)：可在用户程序中加入DB以存储代码块的数据。从相关代码块开始执行一直到结束，存储的数据始终存在。“全局”DB存储所有代码块均可使用的数据，而背景DB存储特定FB的数据并且由FB的参数进行构造。</li>
<li>临时存储器：只要调用代码块，CPU的操作系统就会分配要在执行块期间使用的临时或本地存储器(L)。代码块执行完成后，CPU将重新分配本地存储器，以用于执行其它代码块。</li>
</ul>
<p>每个存储单元都有唯一的地址。用户程序利用这些地址访问存储单元中的信息。对输入(I)或输出(Q)存储区（例如 I0.3 或 Q1.7）的引用会访问过程映像。要立即访问物理输入或输出，请在引用后面添加“:P”（例如，I0.3:P、Q1.7:P或”Stop:P”）。<br>强制仅将固定值写入物理输入 (Ix.y:P) 或物理输出 (Qx.y:P)。要强制输入或输出，请在PLC变量或地址后面添加“:P”。 </p>
<h2 id="对存储区进行寻址"><a href="#对存储区进行寻址" class="headerlink" title="对存储区进行寻址"></a>对存储区进行寻址</h2><p>每个存储单元都有唯一的地址。用户程序利用这些地址访问存储单元中的信息。绝对地址由以下元素组成：</p>
<ul>
<li>存储区（如 I、Q或M）</li>
<li>要访问的数据的大小（如“B”表示Byte或“W”表示Word）</li>
<li>数据地址（如Byte 3 或Word 3）</li>
</ul>
<p>访问布尔值地址中的位时，不要输入大小的助记符号。<br>仅需输入数据的存储区、字节位置和位位置（如0.0、Q0.1或M3.4）。</p>
<h2 id="访问一个变量数据类型的“片段”"><a href="#访问一个变量数据类型的“片段”" class="headerlink" title="访问一个变量数据类型的“片段”"></a>访问一个变量数据类型的“片段”</h2><p>可以根据大小按位、字节、或字级别访问 PLC 变量和数据块变量。<br>访问此类数据片段的语法如下所示：</p>
<ul>
<li>“<plc 变量名称>“.xn（按位访问）</plc></li>
<li>“<plc 变量名称>“.bn（按字节访问）</plc></li>
<li>“<plc 变量名称>“.wn（按字访问）</plc></li>
<li>“&lt;数据块名称&gt;”.&lt;变量名称&gt;.xn（按访问）</li>
<li>“&lt;数据块名称&gt;”.&lt;变量名称&gt;.bn（按字节访问）</li>
<li>“&lt;数据块名称&gt;”.&lt;变量名称&gt;.wn（按字访问）<br>双字大小的变量可按位 0 - 31、字节 0 - 3 或字 0 - 1 访问。一个字大小的的变量可按位 0 - 15、字节 0 - 1 或字 0 访问。字节大小的变量则可按位 0 - 7 或字节 0 访问。当预期操作数为位、字节或字时，则可使用位、字节和字片段访问方式。</li>
</ul>
<p><strong>示例</strong><br>在PLC变量表中， “DW”是一个声明为 DWORD 类型的变量。在以下示例中，显示了按位、字节和字片段的访问方式：<br><img src="/images/PLC_访问变量数据类型的“片段”.jpg" alt></p>
]]></content>
      <categories>
        <category>PLC</category>
      </categories>
      <tags>
        <tag>PLC</tag>
      </tags>
  </entry>
  <entry>
    <title>PLC_基本概念</title>
    <url>/2019/11/30/PLC-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/</url>
    <content><![CDATA[<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ol>
<li><p>PLC<br>可编程控制器（Programmable Logic Controller），简称PLC，是一种数字运算操作的电子系统。</p>
</li>
<li><p>组态<br>帮助文档的定义：组态是对自动化系统的组件进行选择和组合，以及安装所需软件和根据特定用途定制自动化系统。<br>通俗地来说，PLC组态是对硬件进行配置，简单的说就是告诉系统你配置了哪些东西，这样系统才能去连接你的东西。<br>在PLC项目中，通过向项目中添加CPU和其它模块为PLC创建设备组态。<strong>必须将模块添加到设备组态并将硬件配置下载到CPU中，模块才能正常工作。</strong></p>
</li>
<li><p>固件<br>固件是内嵌在电子设备中的软件。 固件通常保存在闪存（如 EPROM、EEPROM 或 ROM）中，并且只能由用户使用特殊工具或功能进行替换。 固件总是连接到硬件，二者相互依存，因此而得名。</p>
</li>
</ol>
<h2 id="PLC的内部结构"><a href="#PLC的内部结构" class="headerlink" title="PLC的内部结构"></a>PLC的内部结构</h2><p>PLC的组成：<br><img src="/images/PLC内部结构图.jpg" alt></p>
<h2 id="输入-输出映像"><a href="#输入-输出映像" class="headerlink" title="输入/输出映像"></a>输入/输出映像</h2><p>PLC输入映像寄存器和输出映像寄存器的作用，就是连接外部物理输入点和物理输出点的桥梁，每个扫描周期输入/输出映像寄存器都刷新一次。</p>
<ol>
<li><p>输入映像<br>开关量的输人接口属于物理输人，指的是外部输人给PLC的信号，例如传感器、按钮、位置开关等。在每一个扫描周期结束后，外部物理输人点的实际状态将映射到输入映像寄存器中。通俗点说，PLC不知道这些物理输人元件究竟是些什么东西，那么就需要引人输人映像来解决这个问题。<br>这个输人映像就好像是外部输人端子的影像。当外部有信号输人时，它相对应的输入映像寄存区域就为1；当外部信号没有信号输人时，它对应的输人映像寄存区域就为0，这样，PLC就可以直接通过扫描映像寄存区来了解外部端子的通断状态。</p>
</li>
<li><p>输出映像<br>开关量的输出接口和输人接口一样，也属于物理输出，指的是PLC输出给外部连接元件的信号，例如电磁阀、指示灯等。在每一个扫描周期结束后，将输出映像寄存器的状态映射到外部物理输出点。<br>和输人映像的情况-样，PLC中引人的输出映像和物理输出也是对应的关系，当相对应的输出映像是1时，这个输出映像所对应的输出端子就接通，而当相对应的输出映像是0时，这个输出映像所对应的输出端子就断开。</p>
</li>
</ol>
<h2 id="PLC的扫描机制和扫描过程"><a href="#PLC的扫描机制和扫描过程" class="headerlink" title="PLC的扫描机制和扫描过程"></a>PLC的扫描机制和扫描过程</h2><p>PLC上电一运行，就由左往右、自上向下循环执行程序，并不停地刷新输入/输出映像区，如此循环不止，这就是PLC的扫描概念。扫描执行一次的周期称为扫描周期。<br><img src="/images/PLC扫描过程.jpg" alt></p>
<h2 id="国际通用标准信号"><a href="#国际通用标准信号" class="headerlink" title="国际通用标准信号"></a>国际通用标准信号</h2><p>在电力电子技术和计算机技术快速发展的今天，常常需要将工程中检测的传感器信号进行远距离传送，但是纷繁复杂的物理量信号直接传送会大大降低仪表的适用性，而且大多传感器属于弱信号型，远距离传送很容易出现衰减、干扰的问题，这就是二次变送器和标准的电传送信号产生的推动力。<br>二次变送器的作用就是将传感器的信号放大成为符合工业传输标准的电信号，如0~5V、0~10V或4~20mA，其中用得最多的是4~20mA。而变送器通过对放大器电路的零点迁移以及增益调整，可以将标准信号准确地对应于物理量的被检测范围，如0~100°C或-10~100°C等，也就是用硬件电路对物理量进行数学变换。中央控制室的仪表将这些电信号驱动机械式的电压表、电流表，就能显示出被测的物理量。<br>在实际的工程项目中，对于不同的量程范围，只要更换指针后面的刻度盘就可以了。更换刻度盘不会影响仪表的根本性质，这就实现了仪表的标准化、通用性和规模化生产。<br>所谓标准信号，是指物理量的形式和数值范围都符合国际标准的信号值，信号是信息的载体，它表现了物理量的变化。国际通用标准信号是连接仪表、变送设备、控制设备、计算机采样设备的一一种标准信号。<br>这些标准信号包括:电流信号4~20mA、0~ 10mA和电压信号0~5V、0~10V等。</p>
]]></content>
      <categories>
        <category>PLC</category>
      </categories>
      <tags>
        <tag>PLC</tag>
      </tags>
  </entry>
  <entry>
    <title>QComboBox使用总结</title>
    <url>/2019/11/30/QComboBox%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>QComboBox控件可以在ui设计界面中拖入创建，也可以在代码中创建。</p>
<h2 id="新建QComboBox控件"><a href="#新建QComboBox控件" class="headerlink" title="新建QComboBox控件"></a>新建QComboBox控件</h2><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line">QComboBox *comBox = new QComboBox()<span class="comment">;</span></span><br><span class="line">comBox-&gt;setGeometry(<span class="number">50</span>,<span class="number">50</span>,<span class="number">200</span>,<span class="number">30</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;addItem(<span class="string">"item1"</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;addItem(<span class="string">"item2"</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;addItem(<span class="string">"item3"</span>)<span class="comment">;</span></span><br><span class="line">comBox-&gt;setCurrentIndex(<span class="number">0</span>)<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">connect(<span class="name">comBox</span>,SIGNAL(<span class="name">currentIndexChanged</span>(<span class="name">int</span>)),this,SLOT(<span class="name">valueChanged</span>()))<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<h2 id="调整下拉表框中item之间的间隔"><a href="#调整下拉表框中item之间的间隔" class="headerlink" title="调整下拉表框中item之间的间隔"></a>调整下拉表框中item之间的间隔</h2><p>有时下拉表框中item之间的间隔无法根据字体尺寸自动调整，会出现重叠，需要调整item之间的间隔：</p>
<ol>
<li><p>先在样式表中定义：</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">comBox-&gt;setStyleSheet("QComboBox::drop-down&#123;border-style: none;&#125;"</span><br><span class="line">                      "QComboBox QAbstractItemView::item&#123;min-height:<span class="number">20px</span>;<span class="attribute">min-width</span>:<span class="number">20px</span>;&#125;");<span class="comment">//这一行就够了，设置最小宽度和高度</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在代码中写入：</p>
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line">QStyledItemDelegate* itemDelegate=new QStyledItemDelegate()<span class="comment">;</span></span><br><span class="line">comBox-&gt;setItemDelegate(<span class="name">itemDelegate</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="获取当前显示的item"><a href="#获取当前显示的item" class="headerlink" title="获取当前显示的item"></a>获取当前显示的item</h2><figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">QS<span class="function"><span class="title">tring</span> str_currentText = comBox-&gt;</span>currentText();<span class="comment">//获取当前item的内容</span></span><br><span class="line"><span class="function"><span class="title">int</span> i_currentIndex = comBox-&gt;</span>currentIndex();<span class="comment">//获取当前item的序号，从0开始编号</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>QT总结</category>
      </categories>
      <tags>
        <tag>QT</tag>
      </tags>
  </entry>
  <entry>
    <title>QTableWidget使用总结</title>
    <url>/2019/11/29/QTableWidget%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>QTableWidget是QT程序中常用的显示数据表格的空间，类似于VC、C#中的DataGrid。<br>QTableWidget是QTableView的子类，<strong>主要的区别是QTableView可以使用自定义的数据模型来显示内容(也就是先要通过setModel来绑定数据源)，而QTableWidget则只能使用标准的数据模型，并且其单元格数据是QTableWidgetItem的对象来实现的(也就是不需要绑定数据源，将逐个单元格内的信息填好即可)。</strong>这主要体现在QTableView类中有setModel成员函数，而到了QTableWidget类中，该成员函数变成了私有。使用QTableWidget就离不开QTableWidgetItem。QTableWidgetItem用来表示表格中的一个单元格，整个表格都需要用逐个单元格构建起来。</p>
<h2 id="表格基本外观设置"><a href="#表格基本外观设置" class="headerlink" title="表格基本外观设置"></a>表格基本外观设置</h2><p><strong>1. 将表格设置为禁止编辑</strong><br>在默认情况下，表格里的字符是可以更改的，比如双击一个单元格，就可以修改原来的内容，如果想禁止用户的这种操作，让这个表格对用户只读，可以这样：<br><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line">tableWidget-&gt;setEditTriggers(<span class="name">QAbstractItemView</span>:<span class="symbol">:NoEditTriggers</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>QAbstractItemView::NoEditTriggers是QAbstractItemView::EditTrigger枚举中的一个，都是触发修改单元格内容的条件：</p>
<table>
<thead>
<tr>
<th style="text-align:left">Constant</th>
<th style="text-align:center">Value</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">QAbstractItemView::NoEditTriggers</td>
<td style="text-align:center">0</td>
<td style="text-align:left">No editing possible. 无法修改</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::CurrentChanged</td>
<td style="text-align:center">1</td>
<td style="text-align:left">Editing start whenever current item changes. 任何时候都能修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::DoubleClicked</td>
<td style="text-align:center">2</td>
<td style="text-align:left">Editing starts when an item is double clicked. 双击单元格修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::SelectedClicked</td>
<td style="text-align:center">4</td>
<td style="text-align:left">Editing starts when clicking on an already selected item. 单击已选中的内容进行修改</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::EditKeyPressed</td>
<td style="text-align:center">8</td>
<td style="text-align:left">Editing starts when the platform edit key has been pressed over an item. 按下平台编辑键修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::AnyKeyPressed</td>
<td style="text-align:center">16</td>
<td style="text-align:left">Editing starts when any key is pressed over an item. 按下任意键修改内容</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::AllEditTriggers</td>
<td style="text-align:center">31</td>
<td style="text-align:left">Editing starts for all above actions. 以上条件全包括</td>
</tr>
</tbody>
</table>
<p><strong>2. 开启/关闭滚动条</strong><br><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">tableWidget-&gt;setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);<span class="regexp">//</span>设置垂直滚动条关闭</span><br><span class="line">tableWidget-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOn);<span class="regexp">//</span>设置水平滚动条开启</span><br><span class="line">tableWidget-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAsNeeded);<span class="regexp">//</span>设置水平滚动条在需要的时候开启</span><br></pre></td></tr></table></figure></p>
<p><strong>3. 设置表格为整行选择</strong><br><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">tableWidget-&gt;setSelectionBehavior(QAbstractItemView::SelectRows); <span class="regexp">//</span>设置为整行选中的方式</span><br></pre></td></tr></table></figure></p>
<p>QAbstractItemView::SelectionBehavior枚举还有如下类型:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Constant</th>
<th style="text-align:center">Value</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">QAbstractItemView::SelectItems</td>
<td style="text-align:center">0</td>
<td style="text-align:left">Selecting single items. 选中单个单元格</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::SelectRows</td>
<td style="text-align:center">1</td>
<td style="text-align:left">Selecting only rows. 选中一行</td>
</tr>
<tr>
<td style="text-align:left">QAbstractItemView::SelectColumns</td>
<td style="text-align:center">2</td>
<td style="text-align:left">Selecting only columns. 选中一列</td>
</tr>
</tbody>
</table>
<p><strong>4. 设置行高、列宽</strong><br><figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">tableWidget-&gt;setColumnWidth(<span class="number">3</span>,<span class="number">200</span>);<span class="comment">//设置列宽</span></span><br><span class="line">tableWidget-&gt;setRowHeight(<span class="number">3</span>,<span class="number">60</span>);<span class="comment">//设置行高</span></span><br></pre></td></tr></table></figure></p>
<p>还可以将行和列的大小设为与内容相匹配：<br><figure class="highlight xl"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">tableWidget</span>-&gt;</span>resizeColumnsToContents();</span><br><span class="line"><span class="function"><span class="title">tableWidget</span>-&gt;</span>resizeRowsToContents();</span><br></pre></td></tr></table></figure></p>
<p><strong>5. 合并单元格</strong><br><figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">tableWidget-&gt;setSpan(<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>)  <span class="comment">// 其参数为： 要改变单元格的   1行序号  2列序号     要合并的  3行数  4列数</span></span><br></pre></td></tr></table></figure></p>
<p>查看其帮助文档：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> QTableView::setSpan ( <span class="keyword">int</span> row, <span class="keyword">int</span> column, <span class="keyword">int</span> rowSpanCount, <span class="keyword">int</span> columnSpanCount );</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>Sets the span of the table element at (row, column) to the number of rows and columns specified by (rowSpanCount, columnSpanCount).</em></p>
</blockquote>
<h2 id="单元格设置"><a href="#单元格设置" class="headerlink" title="单元格设置"></a>单元格设置</h2><p><strong>1. 设置单元格显示内容</strong><br>使用函数<code>void QTableWidget::setItem ( int row, int column, QTableWidgetItem * item )</code>来设置单元格的显示内容。<br>可以直接这样写：<br><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">tableWidget-&gt;setItem(<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">new</span> <span class="type">QTableWidgetItem</span>(<span class="string">"序号"</span>));</span><br></pre></td></tr></table></figure></p>
<p>也可以先新建QTableWidgetItem * item，设置好item的属性，再调用setItem()设置单元格显示内容：<br><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line">QTableWidgetItem *item = new QTableWidgetItem(<span class="string">"Apple"</span>)<span class="comment">;</span></span><br><span class="line">item-&gt;setBackgroundColor(<span class="name">QColor</span>(<span class="number">0</span>,<span class="number">60</span>,<span class="number">10</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setTextColor(<span class="name">QColor</span>(<span class="number">200</span>,<span class="number">111</span>,<span class="number">100</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setFont(<span class="name">QFont</span>(<span class="string">"Helvetica"</span>))<span class="comment">;</span></span><br><span class="line">tableWidget-&gt;setItem(<span class="number">0</span>,<span class="number">3</span>,item)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>2. 设置单元格背景、字体颜色、字体字符</strong><br><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line">QTableWidgetItem *item = new QTableWidgetItem(<span class="string">"Apple"</span>)<span class="comment">;</span></span><br><span class="line">item-&gt;setBackgroundColor(<span class="name">QColor</span>(<span class="number">0</span>,<span class="number">60</span>,<span class="number">10</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setTextColor(<span class="name">QColor</span>(<span class="number">200</span>,<span class="number">111</span>,<span class="number">100</span>))<span class="comment">;</span></span><br><span class="line">item-&gt;setFont(<span class="name">QFont</span>(<span class="string">"Helvetica"</span>))<span class="comment">;</span></span><br><span class="line">tableWidget-&gt;setItem(<span class="number">0</span>,<span class="number">3</span>,item)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>另：如果需要对所有的单元格都使用这种字体，则可以使用<code>tableWidget-&gt;setFont(QFont(&quot;Helvetica&quot;));</code></p>
<h2 id="在单元格中加入控件"><a href="#在单元格中加入控件" class="headerlink" title="在单元格中加入控件"></a>在单元格中加入控件</h2><p>QTableWidget不仅允许把文字加到单元格，还允许把控件也放到单元格中。比如，把一个下拉框加入单元格，可以这么做：<br><figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">QComboBox *comBox = new QComboBox(); </span><br><span class="line"><span class="function"><span class="title">comBox</span>-&gt;</span>addItem(<span class="string">"Y"</span>); </span><br><span class="line"><span class="function"><span class="title">comBox</span>-&gt;</span>addItem(<span class="string">"N"</span>); </span><br><span class="line"><span class="function"><span class="title">tableWidget</span>-&gt;</span>setCellWidget(<span class="number">0</span>,<span class="number">2</span>,comBox);</span><br></pre></td></tr></table></figure></p>
<p>查看QT中关于setCellWidget的帮助文档，使用setCellWidget可以在单元格中加入各种继承于QWidget类的控件：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> QTableWidget::setCellWidget ( <span class="keyword">int</span> row, <span class="keyword">int</span> column, QWidget * widget )</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>Sets the given widget to be displayed in the cell in the given row and column, passing the ownership of the widget to the table.<br>If cell widget A is replaced with cell widget B, cell widget A will be deleted. For example, in the code snippet below, the QLineEdit object will be deleted.</em></p>
</blockquote>
<p><font color="red"><strong>注意：在单元格中加入控件之后，控件内容的改变，将不会触发tableWidget的<code>void on_tableWidget_cellChanged(int row, int column);</code>槽函数！</strong></font><br>可用函数<code>tableWidget-&gt;item(row,column)</code>查看tableWidget的单元格是否有内容：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">QTableWidgetItem * QTableWidget::item ( <span class="keyword">int</span> row, <span class="keyword">int</span> column ) <span class="keyword">const</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>Returns the item for the given row and column if one has been set; otherwise returns 0.</em></p>
</blockquote>
<p>在单元格加入控件后，调用<code>tableWidget-&gt;item(row,column)</code>查看对应单元格的内容，发现返回值为0。<strong>说明添加控件之后，产生的效果类似于该控件覆盖了原来的单元格，对该控件的操作不会影响到对应单元格的内容，也不会触发单元格的<code>cellChanged(int row, int column)</code>信号。</strong></p>
]]></content>
      <categories>
        <category>QT总结</category>
      </categories>
      <tags>
        <tag>QT</tag>
      </tags>
  </entry>
  <entry>
    <title>next主题-添加站内搜索</title>
    <url>/2019/11/28/next%E4%B8%BB%E9%A2%98-%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2/</url>
    <content><![CDATA[<p>参考博客: <a href="http://atecher.com/2016/09/27/hexo-next-github-4/" target="_blank" rel="noopener">http://atecher.com/2016/09/27/hexo-next-github-4/</a></p>
<p>NexT主题支持集成 Swiftype、 微搜索、Local Search 和 Algolia,但Swiftype和Algolia都只有一段时间的试用期（我也是听说的，具体还没搞懂）。<br>我采用了Hexo提供的Local Search,原理是通过hexo-generator-search插件在本地生成一个search.xml/json文件，通过这个文件实现搜索功能。</p>
<h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><p>在博客站点根目录下右键空白处，选择Git Bash Here，依次输入以下指令<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-<span class="keyword">search</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-searchdb</span><br></pre></td></tr></table></figure></p>
<h2 id="修改hexo配置"><a href="#修改hexo配置" class="headerlink" title="修改hexo配置"></a>修改hexo配置</h2><p>打开<strong>站点配置文件</strong>：<code>站点根目录/_config.yml</code>，增加如下配置：<br><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">search:</span></span><br><span class="line"><span class="symbol">  path:</span> search.xml</span><br><span class="line"><span class="symbol">  field:</span> post</span><br><span class="line"><span class="symbol">  format:</span> html</span><br><span class="line"><span class="symbol">  limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure></p>
<p>增加以上配置之后，其实搜索已经配置完成了，但现在我们还看不到搜索的入口，接下来我们需要在next的主题配置文件中进行配置。</p>
<h2 id="配置next主题中的搜索入口"><a href="#配置next主题中的搜索入口" class="headerlink" title="配置next主题中的搜索入口"></a>配置next主题中的搜索入口</h2><p>打开<strong>next主题配置文件</strong>：<code>站点根目录/themes/next/_config.yml</code>，使能Local search：<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span>                                                              <span class="comment">#设置为使能</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line"><span class="attr">  trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line"><span class="attr">  top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line"><span class="attr">  unescape:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<p>OK，配置完成，重新生成部署博客。</p>
]]></content>
      <categories>
        <category>hexo使用教程</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>next主题</tag>
      </tags>
  </entry>
  <entry>
    <title>next主题-网站语言修改</title>
    <url>/2019/11/28/next%E4%B8%BB%E9%A2%98-%E7%BD%91%E7%AB%99%E8%AF%AD%E8%A8%80%E4%BF%AE%E6%94%B9/</url>
    <content><![CDATA[<p>打开<strong>站点配置文件</strong>：<code>站点根目录/_config.yml</code><br>找到language属性，属性值配置成zh-CN，表示中文<br><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">language:</span> <span class="built_in">zh</span>-CN</span><br></pre></td></tr></table></figure></p>
<p>完成后，重新生成部署博客。</p>
<p><strong>注意：有的主题需要把language属性值配置成zh-Hans，这与所使用的主题的language文件夹下中文支持文件名有关。</strong><br>查看<code>Hexo站点根目录/themes/next/languages</code>文件夹下支持哪些语言，找到关于中文的文件，如下：</p>
<blockquote>
<ul>
<li>zh-CN.yml</li>
<li>zh-HK.yml</li>
<li>zh-TW.yml</li>
</ul>
</blockquote>
<p>将language属性配置成对应的名称就行了。</p>
]]></content>
      <categories>
        <category>hexo使用教程</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>next主题</tag>
      </tags>
  </entry>
  <entry>
    <title>next主题-添加tags和categories</title>
    <url>/2019/11/28/next%E4%B8%BB%E9%A2%98-%E6%B7%BB%E5%8A%A0tags%E5%92%8Ccategories/</url>
    <content><![CDATA[<h2 id="创建Categories页面"><a href="#创建Categories页面" class="headerlink" title="创建Categories页面"></a>创建Categories页面</h2><p>使用    <code>hexo new page &quot;categories&quot;</code>命令新建一个Categories页面。此命令会在source文件夹下生成一个Categories文件夹，并生成一个index.md文件。<br>编辑index.md文件，将页面的类型设置为Categories。<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-11</span><span class="bullet">-27</span> <span class="number">15</span><span class="string">:05:17</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"categories"</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<h2 id="创建Tag页面"><a href="#创建Tag页面" class="headerlink" title="创建Tag页面"></a>创建Tag页面</h2><p>创建Tag页面和创建Categories页面是差不多的操作。<br>使用    <code>hexo new page &quot;tags&quot;</code>命令新建一个tags页面，此命令会在source文件夹下生成一个tags文件夹，并生成一个index.md文件。<br>编辑index.md文件，将页面的类型设置为tags。<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Tagcloud</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-11</span><span class="bullet">-28</span> <span class="number">17</span><span class="string">:27:32</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"tags"</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<h2 id="在菜单中添加categories和tags"><a href="#在菜单中添加categories和tags" class="headerlink" title="在菜单中添加categories和tags"></a>在菜单中添加categories和tags</h2><p>编辑主题的配置文件_config.yml，添加categories和tags到menu中，如下：<br><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> / || home</span><br><span class="line">  <span class="meta">#about: /about/ || user</span></span><br><span class="line"><span class="symbol">  categories:</span> <span class="meta-keyword">/categories/</span> || th      <span class="meta">#添加此行</span></span><br><span class="line"><span class="symbol">  tags:</span> <span class="meta-keyword">/tags/</span> || tags                <span class="meta">#添加此行</span></span><br><span class="line"><span class="symbol">  archives:</span> <span class="meta-keyword">/archives/</span> || archive</span><br><span class="line">  <span class="meta">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="meta">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="meta">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure></p>
<p>  完成后，重新生成部署博客。</p>
]]></content>
      <categories>
        <category>hexo使用教程</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>next主题</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo站点配置内容解释</title>
    <url>/2019/11/27/hexo%E7%AB%99%E7%82%B9%E9%85%8D%E7%BD%AE%E5%86%85%E5%AE%B9%E8%A7%A3%E9%87%8A/</url>
    <content><![CDATA[<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">下面是关于该配置文件的官方帮助文档</span> <span class="bullet">--&gt;</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">下面是关于网站的信息</span> <span class="bullet">--&gt;</span></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="comment">#title: Hexo</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hello</span> <span class="string">World</span>                           <span class="comment">#网页标题</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">一切开始的时候，是最美好的时光。</span>      <span class="comment">#副标题</span></span><br><span class="line"><span class="attr">description:</span>                                 <span class="comment">#描述信息</span></span><br><span class="line"><span class="attr">keywords:</span>                                    <span class="comment">#用于seo的关键字</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">John</span> <span class="string">Doe</span>                             <span class="comment">#作者名字</span></span><br><span class="line"><span class="attr">language:</span>                                    <span class="comment">#网站语言，默认是英语，最好修改成中文 zh-Hans或zh-CN（视主题的语言包而定）</span></span><br><span class="line"><span class="attr">timezone:</span>                                    <span class="comment">#网站时区，默认使用你电脑的设置，最好修改成 Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">http://yoursite.com</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">下面是网站文件夹的默认设置</span> <span class="bullet">--&gt;</span></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span>          <span class="comment">#资源文件夹，存放博客文章，放在里面的文件会上传到GitHub中</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span>          <span class="comment">#公共文件夹，静态网站生成的地方</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span>               <span class="comment">#标签文件夹</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span>       <span class="comment">#归档文件夹</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span>    <span class="comment">#分类文件夹</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span>    <span class="comment">#代码文件夹，默认是 downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span>             <span class="comment">#国际化文件夹，默认跟language相同</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">写作部分：--&gt;</span></span><br><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="comment">#新文章的名称：默认是:title.md</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span> <span class="comment"># File name of new posts</span></span><br><span class="line"><span class="comment">#默认的layout：post，而不是draft和page</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="comment">#是否将标题转换成标题形式（首字母大写），默认是否                                        </span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="comment">#是否在新窗口打开内部链接：默认是true</span></span><br><span class="line"><span class="attr">external_link:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab </span></span><br><span class="line"><span class="comment">#filenamecase：文件名称的转换格式，默认是 0 表示不转换，1 表示转换成小写，2 表示转换成大写         </span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="comment">#是否渲染草稿                                              </span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment">#是否启动 Asset 文件夹，用于存放文章图片等资源                                          </span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment">#是否使用相对链接(相对根文件夹)，默认不使用</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span>  </span><br><span class="line"><span class="comment">#是否展示 future 博文，默认是                                        </span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment">#代码块的设置</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span>          <span class="comment">#使用代码高亮</span></span><br><span class="line"><span class="attr">  line_number:</span> <span class="literal">true</span>     <span class="comment">#显示行号</span></span><br><span class="line"><span class="attr">  auto_detect:</span> <span class="literal">false</span>    <span class="comment">#自动检测语言</span></span><br><span class="line"><span class="attr">  tab_replace:</span></span><br><span class="line">  </span><br><span class="line"><span class="string">&lt;!--主页设置，路径、每页展示文章数量、文章排序--&gt;</span>  </span><br><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = '')</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">''</span></span><br><span class="line"><span class="attr">  per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">  order_by:</span> <span class="bullet">-date</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--分类和标签--&gt;</span>    </span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--日期和时间格式--&gt;</span> </span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="attr">HH:mm:ss</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--页码--&gt;</span></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span>                 <span class="comment"># 主页/分类/标签/存档等类型索引页包含文章数量</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span>         <span class="comment"># 分页所在文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--主题设置--&gt;</span></span><br><span class="line"><span class="comment"># Extensions                         # 扩展 放置插件和主题</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span>                     <span class="comment"># 默认主题landscape</span></span><br><span class="line"><span class="comment">#theme: next</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--部署设置--&gt;</span></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> <span class="string">git@github.com:log0429/log0429.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>hexo使用教程</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>landscape主题</tag>
      </tags>
  </entry>
  <entry>
    <title>卫星时间转换</title>
    <url>/2019/11/27/%E5%8D%AB%E6%98%9F%E6%97%B6%E9%97%B4%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<h2 id="几个概念"><a href="#几个概念" class="headerlink" title="几个概念"></a>几个概念</h2><h3 id="1-两种时间计量系统"><a href="#1-两种时间计量系统" class="headerlink" title="1.两种时间计量系统"></a>1.两种时间计量系统</h3><p>科学上有两种时间计量系统：基于地球自转的天文测量而得出的“世界时”和以原子振荡周期确定的“原子时”。“世界时”由于地球自转的不稳定（由地球物质分布不均匀和其它星球的摄动力等引起的）会带来时间的差异，“原子时”（一种较恒定的时制，由原子钟得出）则是相对恒定不变的。这两种时间尺度速率上的差异，一般来说一至二年会差大约1秒时间。<br>1971年国际计量大会通过决议：使用“协调世界时”来计量时间。当“协调世界时”和“世界时”之差超过0.9秒时，国际地球自转服务组织（IERS）就负责对“协调世界时”拨快或拨慢1秒，这就是闰秒。</p>
<h3 id="2-跳秒（leap-seconds）"><a href="#2-跳秒（leap-seconds）" class="headerlink" title="2.跳秒（leap seconds）"></a>2.跳秒（leap seconds）</h3><p>跳秒，也叫闰秒，是指为保持协调世界时接近于世界时时刻，由国际计量局统一规定在年底或年中（也可能在季末）对协调世界时增加或减少1秒的调整。<br>成因：由于地球自转的不均匀性和长期变慢性（主要由潮汐摩擦引起的），会使世界时（民用时）和原子时之间相差超过到±0.9秒时，就把协调世界时向前拨1秒（负闰秒，最后一分钟为59秒）或向后拨1秒（正闰秒，最后一分钟为61秒）； 闰秒一般加在公历年末或公历六月末。</p>
<h3 id="3-UTC时间"><a href="#3-UTC时间" class="headerlink" title="3.UTC时间"></a>3.UTC时间</h3><p>我们通常生活的所用的时间都是UTC时间，即世界协调时。它起源于世界时，世界时系统是以地球自转运动为基准的时间系统。也就是我们根据地球自转，公转确定的24小时，一年365天，然后再细分到秒。而世界协调时的秒不是世界时的秒，而是采用了原子时的秒（国际单位制的秒）。原因是世界时受地球自转的影响比较大，地球还受到其他因素的影响，比如极移，岁差等因素的影响。总之，世界时（跟地球有关的时间系统）并不是严格均匀的时间系统，世界协调时是为了调节人们生活的时间和GPS原子时之间的差异而发明的一种时间系统。</p>
<h3 id="4-GPS时间"><a href="#4-GPS时间" class="headerlink" title="4.GPS时间"></a>4.GPS时间</h3><p>GPS时间，也就是GPS原子时，它的时间基准是1980年1月6日0点与世界协调时刻相一致，以后按原子时秒长累积计时。GPS时间跟UTC时间之差为秒的整倍数。如1989年为5秒，1996年为11秒，2002年为13秒。<br>也就是说，时间基准，两套时间系统从1980年1月6日 开始一样，但是因为两个时间系统的秒长不一样，也就是我们所说的时间尺度不一样，最终随着时间的累积，两者之间就会差。而世界协调时为了协调人们生活中的时间，就采用了跳秒的办法来处理这种差异。</p>
<h3 id="5-BDT时间（北斗时间）"><a href="#5-BDT时间（北斗时间）" class="headerlink" title="5.BDT时间（北斗时间）"></a>5.BDT时间（北斗时间）</h3><p>BDS采用的时间基准为北斗时（BDT），它是一种原子时，以国际单位制（SI）秒为基本单位而连续累计，不用调秒的形式，起始历元为协调世界时（UTC）2006年1月1日0时0分0秒，采用周和周内秒的计数形式。BDT与UTC之间的跳秒信息在卫星播放的导航电文中播报。此外由于存在着闰秒的影响，从GPST的起算时间1980年1月6日0时0分0秒到BDT的起算时间2006年1月1日0时0分0秒共有正闰秒14s,所以BDT和GPST周秒间存在14秒的差异。</p>
<h2 id="时间转换代码"><a href="#时间转换代码" class="headerlink" title="时间转换代码"></a>时间转换代码</h2><figure class="highlight excel"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;math.h&gt;</span><br><span class="line"></span><br><span class="line">/* <span class="built_in">type</span> definitions ----------------------------------------------------------*/</span><br><span class="line"></span><br><span class="line">typedef struct &#123;        /* <span class="built_in">time</span> struct */</span><br><span class="line">	time_t <span class="built_in">time</span>;        /* <span class="built_in">time</span> (s) expressed by standard time_t */</span><br><span class="line">	double <span class="built_in">sec</span>;         /* fraction of <span class="built_in">second</span> under <span class="number">1</span> s */</span><br><span class="line">&#125; gtime_t;</span><br><span class="line"></span><br><span class="line">static double leaps[<span class="number">64</span> + <span class="number">1</span>][<span class="number">7</span>] = &#123; /* leap seconds (y,m,d,h,m,s,utc-gpst) */</span><br><span class="line">	&#123; <span class="number">2017</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">18</span> &#125;,</span><br><span class="line">	&#123; <span class="number">2015</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">17</span> &#125;,</span><br><span class="line">	&#123; <span class="number">2012</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">16</span> &#125;,</span><br><span class="line">	&#123; <span class="number">2009</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">15</span> &#125;,</span><br><span class="line">	&#123; <span class="number">2006</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">14</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1999</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">13</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1997</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">12</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1996</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">11</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1994</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">10</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1993</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">9</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1992</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">8</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1991</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">7</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1990</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">6</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1988</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">5</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1985</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">4</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1983</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">3</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1982</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">2</span> &#125;,</span><br><span class="line">	&#123; <span class="number">1981</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">1</span> &#125;,</span><br><span class="line">	&#123; <span class="number">0</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">static const double gpst0[] = &#123; <span class="number">1980</span>,<span class="number">1</span>, <span class="number">6</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;; /* gps <span class="built_in">time</span> reference */</span><br><span class="line">static const double bdt0[] = &#123; <span class="number">2006</span>,<span class="number">1</span>, <span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;; /* beidou <span class="built_in">time</span> reference */</span><br><span class="line"></span><br><span class="line">/* add <span class="built_in">time</span> --------------------------------------------------------------------</span><br><span class="line">* add <span class="built_in">time</span> to gtime_t struct</span><br><span class="line">* args   <span class="symbol">:</span> gtime_t <span class="built_in">t</span>        I   gtime_t struct</span><br><span class="line">*          double <span class="built_in">sec</span>       I   <span class="built_in">time</span> to add (s)</span><br><span class="line">* return <span class="symbol">:</span> gtime_t struct (<span class="built_in">t</span>+<span class="built_in">sec</span>)</span><br><span class="line">*-----------------------------------------------------------------------------*/</span><br><span class="line">extern gtime_t timeadd(gtime_t <span class="built_in">t</span>, double <span class="built_in">sec</span>)</span><br><span class="line">&#123;</span><br><span class="line">	double tt;</span><br><span class="line"></span><br><span class="line">	t.sec += <span class="built_in">sec</span>; tt = <span class="built_in">floor</span>(t.sec); t.time += (<span class="built_in">int</span>)tt; t.sec -= tt;</span><br><span class="line">	return <span class="built_in">t</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* <span class="built_in">convert</span> calendar <span class="built_in">day</span>/<span class="built_in">time</span> to <span class="built_in">time</span> -------------------------------------------</span><br><span class="line">* <span class="built_in">convert</span> calendar <span class="built_in">day</span>/<span class="built_in">time</span> to gtime_t struct</span><br><span class="line">* args   <span class="symbol">:</span> double *ep       I   <span class="built_in">day</span>/<span class="built_in">time</span> &#123;<span class="built_in">year</span>,<span class="built_in">month</span>,<span class="built_in">day</span>,<span class="built_in">hour</span>,<span class="built_in">min</span>,<span class="built_in">sec</span>&#125;</span><br><span class="line">* return <span class="symbol">:</span> gtime_t struct</span><br><span class="line">* notes  <span class="symbol">:</span> <span class="built_in">proper</span> in <span class="number">1970</span>-<span class="number">2037</span> <span class="built_in">or</span> <span class="number">1970</span>-<span class="number">2099</span> (<span class="number">64</span>bit time_t)</span><br><span class="line">*-----------------------------------------------------------------------------*/</span><br><span class="line">extern gtime_t epoch2time(const double *ep)</span><br><span class="line">&#123;</span><br><span class="line">	const <span class="built_in">int</span> doy[] = &#123; <span class="number">1</span>,<span class="number">32</span>,<span class="number">60</span>,<span class="number">91</span>,<span class="number">121</span>,<span class="number">152</span>,<span class="number">182</span>,<span class="number">213</span>,<span class="number">244</span>,<span class="number">274</span>,<span class="number">305</span>,<span class="number">335</span> &#125;;</span><br><span class="line">	gtime_t <span class="built_in">time</span> = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="built_in">int</span> <span class="built_in">days</span>, <span class="built_in">sec</span>, <span class="built_in">year</span> = (<span class="built_in">int</span>)ep[<span class="number">0</span>], mon = (<span class="built_in">int</span>)ep[<span class="number">1</span>], <span class="built_in">day</span> = (<span class="built_in">int</span>)ep[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">	<span class="built_in">if</span> (<span class="built_in">year</span>&lt;<span class="number">1970</span> || <span class="number">2099</span>&lt;<span class="built_in">year</span> || mon&lt;<span class="number">1</span> || <span class="number">12</span>&lt;mon) return <span class="built_in">time</span>;</span><br><span class="line"></span><br><span class="line">	/* leap <span class="built_in">year</span> <span class="built_in">if</span> <span class="built_in">year</span>%<span class="number">4</span>==<span class="number">0</span> in <span class="number">1901</span>-<span class="number">2099</span> */</span><br><span class="line">	<span class="built_in">days</span> = (<span class="built_in">year</span> - <span class="number">1970</span>) * <span class="number">365</span> + (<span class="built_in">year</span> - <span class="number">1969</span>) / <span class="number">4</span> + doy[mon - <span class="number">1</span>] + <span class="built_in">day</span> - <span class="number">2</span> + (<span class="built_in">year</span> % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; mon &gt;= <span class="number">3</span> ? <span class="number">1</span> <span class="symbol">:</span> <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">sec</span> = (<span class="built_in">int</span>)<span class="built_in">floor</span>(ep[<span class="number">5</span>]);</span><br><span class="line">	time.time = (time_t)<span class="built_in">days</span> * <span class="number">86400</span> + (<span class="built_in">int</span>)ep[<span class="number">3</span>] * <span class="number">3600</span> + (<span class="built_in">int</span>)ep[<span class="number">4</span>] * <span class="number">60</span> + <span class="built_in">sec</span>;</span><br><span class="line">	time.sec = ep[<span class="number">5</span>] - <span class="built_in">sec</span>;</span><br><span class="line">	return <span class="built_in">time</span>;</span><br><span class="line">&#125;</span><br><span class="line">/* gps <span class="built_in">time</span> to <span class="built_in">time</span> ------------------------------------------------------------</span><br><span class="line">* <span class="built_in">convert</span> week <span class="built_in">and</span> tow in gps <span class="built_in">time</span> to gtime_t struct</span><br><span class="line">* args   <span class="symbol">:</span> <span class="built_in">int</span>    week      I   week number in gps <span class="built_in">time</span></span><br><span class="line">*          double <span class="built_in">sec</span>       I   <span class="built_in">time</span> of week in gps <span class="built_in">time</span> (s)</span><br><span class="line">* return <span class="symbol">:</span> gtime_t struct</span><br><span class="line">*-----------------------------------------------------------------------------*/</span><br><span class="line">extern gtime_t gpst2time(<span class="built_in">int</span> week, double <span class="built_in">sec</span>)</span><br><span class="line">&#123;</span><br><span class="line">	gtime_t <span class="built_in">t</span> = epoch2time(gpst0);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">if</span> (<span class="built_in">sec</span>&lt;-<span class="number">1</span>E9 || <span class="number">1</span>E9&lt;<span class="built_in">sec</span>) <span class="built_in">sec</span> = <span class="number">0.0</span>;</span><br><span class="line">	t.time += (time_t)<span class="number">86400</span> * <span class="number">7</span> * week + (<span class="built_in">int</span>)<span class="built_in">sec</span>;</span><br><span class="line">	t.sec = <span class="built_in">sec</span> - (<span class="built_in">int</span>)<span class="built_in">sec</span>;</span><br><span class="line">	return <span class="built_in">t</span>;</span><br><span class="line">&#125;</span><br><span class="line">/* <span class="built_in">time</span> to bd <span class="built_in">time</span> ------------------------------------------------------------</span><br><span class="line">* <span class="built_in">convert</span> gtime_t struct to week <span class="built_in">and</span> tow in bd <span class="built_in">time</span></span><br><span class="line">* args   <span class="symbol">:</span> gtime_t <span class="built_in">t</span>        I   gtime_t struct</span><br><span class="line">*          <span class="built_in">int</span>    *week     IO  week number in bd <span class="built_in">time</span> (NU<span class="symbol">LL:</span> no output)</span><br><span class="line">* return <span class="symbol">:</span> <span class="built_in">time</span> of week in bd <span class="built_in">time</span> (s)</span><br><span class="line">*-----------------------------------------------------------------------------*/</span><br><span class="line">extern double time2bdt(gtime_t <span class="built_in">t</span>, <span class="built_in">int</span> *week)</span><br><span class="line">&#123;</span><br><span class="line">	gtime_t <span class="symbol">t0</span> = epoch2time(bdt0);</span><br><span class="line">	time_t <span class="built_in">sec</span> = t.time - <span class="symbol">t0</span>.<span class="built_in">time</span>;</span><br><span class="line">	<span class="built_in">int</span> w = (<span class="built_in">int</span>)(<span class="built_in">sec</span> / (<span class="number">86400</span> * <span class="number">7</span>));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">if</span> (week) *week = w;</span><br><span class="line">	return (double)(<span class="built_in">sec</span> - (double)w * <span class="number">86400</span> * <span class="number">7</span>) + t.sec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* gps周+周内秒 转换成 bd周+周内----------------------------------------------</span><br><span class="line">* gps周+周内秒 转换成 bd周+周内秒</span><br><span class="line">* args   <span class="symbol">:</span> <span class="built_in">int</span>    gpst_week      I   week number in gps <span class="built_in">time</span></span><br><span class="line">*          double gpst_sec       I   <span class="built_in">time</span> of week in gps <span class="built_in">time</span> (s)</span><br><span class="line">*		   <span class="built_in">int</span>    *pbdt_week     O   week number in bd <span class="built_in">time</span></span><br><span class="line">*          double *pbdt_sec      O   <span class="built_in">time</span> of week in bd <span class="built_in">time</span> (s)</span><br><span class="line">*-----------------------------------------------------------------------------*/</span><br><span class="line">void gpsweekt2bdweekt(<span class="built_in">int</span> gpst_week, double gpst_sec,<span class="built_in">int</span> *pbdt_week, double *pbdt_sec)</span><br><span class="line">&#123;</span><br><span class="line">	gtime_t gps_time = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	gtime_t bd_time = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="built_in">int</span> bdt_week = <span class="number">0</span>;</span><br><span class="line">	double bdt_sec = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	gps_time = gpst2time(gpst_week, gpst_sec);</span><br><span class="line">	bd_time = timeadd(gps_time, -<span class="number">14.0</span>);</span><br><span class="line">	bdt_sec = time2bdt(bd_time, &amp;bdt_week);</span><br><span class="line">	</span><br><span class="line">	*pbdt_week = bdt_week;</span><br><span class="line">	*pbdt_sec = bdt_sec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* <span class="built_in">convert</span> <span class="built_in">time</span> to calendar <span class="built_in">day</span>/<span class="built_in">time</span> -------------------------------------------</span><br><span class="line">* <span class="built_in">convert</span> gtime_t struct to calendar <span class="built_in">day</span>/<span class="built_in">time</span> </span><br><span class="line">* args   <span class="symbol">:</span> gtime_t <span class="built_in">T</span>        I   gtime_t struct</span><br><span class="line">           double *ep       O   <span class="built_in">day</span>/<span class="built_in">time</span> &#123;<span class="built_in">year</span>,<span class="built_in">month</span>,<span class="built_in">day</span>,<span class="built_in">hour</span>,<span class="built_in">min</span>,<span class="built_in">sec</span>&#125;</span><br><span class="line">* return <span class="symbol">:</span> none</span><br><span class="line">* notes  <span class="symbol">:</span> <span class="built_in">proper</span> in <span class="number">1970</span>-<span class="number">2037</span> <span class="built_in">or</span> <span class="number">1970</span>-<span class="number">2099</span> (<span class="number">64</span>bit time_t)</span><br><span class="line">*-----------------------------------------------------------------------------*/</span><br><span class="line">extern void time2epoch (gtime_t <span class="built_in">t</span>, double *ep)</span><br><span class="line">&#123;</span><br><span class="line">	const <span class="built_in">int</span> mday[] = &#123;	/* # of <span class="built_in">days</span> in a <span class="built_in">month</span> */</span><br><span class="line">	<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,</span><br><span class="line">	<span class="number">31</span>,<span class="number">29</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">int</span> <span class="built_in">days</span>, <span class="built_in">sec</span>, mon, <span class="built_in">day</span>;</span><br><span class="line">		</span><br><span class="line">	<span class="built_in">days</span> = (<span class="built_in">int</span>)(t.time / <span class="number">86400</span>);</span><br><span class="line">	<span class="built_in">sec</span>  = (<span class="built_in">int</span>)(t.time-(time_t)<span class="built_in">days</span>*<span class="number">86400</span>);</span><br><span class="line">	</span><br><span class="line">	for(<span class="built_in">day</span> = <span class="built_in">days</span>%<span class="number">1461</span>,mon=<span class="number">0</span>;mon&lt;<span class="number">48</span>;mon++)&#123;</span><br><span class="line">		<span class="built_in">if</span>(<span class="built_in">day</span>&gt;mday[mon]) <span class="built_in">day</span> -= mday[mon];</span><br><span class="line">		else break;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ep[<span class="number">0</span>] = <span class="number">1970</span> + <span class="built_in">days</span>/<span class="number">1461</span>*<span class="number">4</span> + mon/<span class="number">12</span>; ep[<span class="number">1</span>] = mon%<span class="number">12</span> + <span class="number">1</span>; ep[<span class="number">2</span>] = <span class="built_in">day</span> + <span class="number">1</span>;</span><br><span class="line">	ep[<span class="number">3</span>] = <span class="built_in">sec</span>/<span class="number">3600</span>; ep[<span class="number">4</span>] = <span class="built_in">sec</span>%<span class="number">3600</span>/<span class="number">60</span>; ep[<span class="number">5</span>] = <span class="built_in">sec</span>%<span class="number">60</span> + t.sec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* <span class="built_in">time</span> difference -------------------------------------------------------------</span><br><span class="line">* difference between gtime_t structs</span><br><span class="line">* args   <span class="symbol">:</span> gtime_t <span class="symbol">t1</span>,<span class="symbol">t2</span>    I   gtime_t structs</span><br><span class="line">* return <span class="symbol">:</span> <span class="built_in">time</span> difference (<span class="symbol">t1</span>-<span class="symbol">t2</span>) (s)</span><br><span class="line">*-----------------------------------------------------------------------------*/</span><br><span class="line">extern double timediff(gtime_t <span class="symbol">t1</span>, gtime_t <span class="symbol">t2</span>)</span><br><span class="line">&#123;</span><br><span class="line">	return (<span class="symbol">t1</span>.<span class="built_in">time</span> - <span class="symbol">t2</span>.<span class="built_in">time</span> + <span class="symbol">t1</span>.<span class="built_in">sec</span> - <span class="symbol">t2</span>.<span class="built_in">sec</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">extern gtime_t gps_time2utc_time(gtime_t <span class="built_in">t</span>)</span><br><span class="line">&#123;</span><br><span class="line">	gtime_t tu;</span><br><span class="line">	<span class="built_in">int</span> i;</span><br><span class="line">	for(i=<span class="number">0</span>;leaps[i][<span class="number">0</span>]&gt;<span class="number">0</span>;i++)&#123;</span><br><span class="line">		tu = timeadd(<span class="built_in">t</span>,leaps[i][<span class="number">6</span>]);</span><br><span class="line">		<span class="built_in">if</span>( timediff(tu,epoch2time(leaps[i]))&gt;=<span class="number">0.0</span> ) return tu;</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="built_in">t</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void gpsweekt2utcepoch(<span class="built_in">int</span> gpst_week, double gpst_sec,double *ep)</span><br><span class="line">&#123;</span><br><span class="line">	gtime_t gps_time,utc_time;</span><br><span class="line">	</span><br><span class="line">	gps_time = gpst2time(gpst_week,gpst_sec);</span><br><span class="line">	utc_time = gps_time2utc_time(gps_time);</span><br><span class="line">	time2epoch(utc_time,ep);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> main()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">/*	<span class="built_in">int</span> gpst_week = <span class="number">1826</span>;</span><br><span class="line">	double gpst_sec = <span class="number">522628.45</span>;*/</span><br><span class="line">	<span class="built_in">int</span> gpst_week = <span class="number">2033</span>;</span><br><span class="line">	double gpst_sec = <span class="number">114487.200</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">int</span> bdt_week = <span class="number">0</span>;</span><br><span class="line">	double bdt_sec = <span class="number">0</span>;</span><br><span class="line">	double ep[<span class="number">6</span>]=&#123;<span class="number">0.0</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	gpsweekt2bdweekt(gpst_week, gpst_sec,&amp;bdt_week,&amp;bdt_sec);</span><br><span class="line"></span><br><span class="line">	printf(<span class="string">"gpst_week=%d\t gpst_sec=%lf\n"</span>,gpst_week,gpst_sec);</span><br><span class="line">	printf(<span class="string">"bdt_week =%d\t  bdt_sec=%lf\n"</span>, bdt_week,bdt_sec);</span><br><span class="line"></span><br><span class="line">	gpsweekt2utcepoch(gpst_week, gpst_sec, ep);</span><br><span class="line"></span><br><span class="line">	printf(<span class="string">"year=%lf\t month=%lf\t day=%lf\t hour=%lf\t min=%lf\t sec=%lf"</span>,ep[<span class="number">0</span>],ep[<span class="number">1</span>],ep[<span class="number">2</span>],ep[<span class="number">3</span>],ep[<span class="number">4</span>],ep[<span class="number">5</span>]);//<span class="built_in">year</span>,<span class="built_in">month</span>,<span class="built_in">day</span>,<span class="built_in">hour</span>,<span class="built_in">min</span>,<span class="built_in">sec</span></span><br><span class="line"></span><br><span class="line">	getchar();</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上代码运行结果：<br><img src="/images/卫星时间转换运行结果.jpg" alt></p>
<p><strong>参考文献：</strong><br>孙辉，王辽杰，陈洪卿.北斗系统时BDT解析</p>
]]></content>
      <categories>
        <category>工程</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>工程</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo设置分类、标签、归档、时间线、关于</title>
    <url>/2019/11/27/hexo%E8%AE%BE%E7%BD%AE%E5%88%86%E7%B1%BB%E3%80%81%E6%A0%87%E7%AD%BE%E3%80%81%E5%BD%92%E6%A1%A3%E3%80%81%E6%97%B6%E9%97%B4%E7%BA%BF%E3%80%81%E5%85%B3%E4%BA%8E/</url>
    <content><![CDATA[<p>参考博客: <a href="jianshu.com/p/ebbbc8edcc24">jianshu.com/p/ebbbc8edcc24</a></p>
<p><strong>以添加“分类”页面为例。</strong></p>
<h2 id="添加-分类-页面"><a href="#添加-分类-页面" class="headerlink" title="添加 分类 页面"></a>添加 分类 页面</h2><p>使用    <code>hexo new page categories</code>新建一个 分类 页面，此命令会在source文件夹下初始化分类目录，并生成一个index文件。<br><img src="/images/categories目录.jpg" alt><br>在主题的_config.yml文件中的 menu 中进行设置<br>注：不同主题_config.yml文件有所区别<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span>                  <span class="comment">#主页</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories</span>  <span class="comment">#分类  （添加此行即可）</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives</span>      <span class="comment">#归档</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags</span>              <span class="comment">#标签</span></span><br><span class="line"><span class="attr">  about:</span> <span class="string">/about</span>            <span class="comment">#关于                  </span></span><br><span class="line"><span class="string">或</span>    </span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">home</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">.</span>            <span class="comment">#主页</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-home</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">archive</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">archives/</span>    <span class="comment">#归档</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-archive</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">about</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">about/</span>       <span class="comment">#关于</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-user</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">rss</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">atom.xml</span>     <span class="comment">#rss订阅</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-rss</span></span><br></pre></td></tr></table></figure></p>
<h2 id="修改文章模板"><a href="#修改文章模板" class="headerlink" title="修改文章模板"></a>修改文章模板</h2><p>文章的模版在scaffolds/post.md，内容修改如下：<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">&#123;&#123;</span> <span class="string">title</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>hexo使用教程</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>landscape主题</tag>
      </tags>
  </entry>
  <entry>
    <title>夏藏冬来见</title>
    <url>/2019/11/26/%E5%A4%8F%E8%97%8F%E5%86%AC%E6%9D%A5%E8%A7%81/</url>
    <content><![CDATA[<p>沉寂了整个夏天和秋天，想明白了一些事情，在杭州将要进入深冬的时候，我又回来了。</p>
]]></content>
      <tags>
        <tag>宫灯夜明</tag>
      </tags>
  </entry>
  <entry>
    <title>天线通信</title>
    <url>/2019/06/02/%E5%A4%A9%E7%BA%BF%E9%80%9A%E4%BF%A1/</url>
    <content><![CDATA[<p>一、信号调制</p>
<p>1.无线电通信是利用电磁波作为信息的载体</p>
<p>2.调制信号特点是频率较低、频带较宽且相互重叠</p>
<p>3.所谓调制就是将待传输的基带信号加载到高频振荡信号上的过程</p>
<p>4.信号调制实质是将基带信号搬移到高频载波上去，也就是频谱搬移过程</p>
<p>5.根据调制信号的不同，可以分为模拟信号调试和数字信号调制。而调制的基本原理是将调制信号加载到载波信号的3个参数之一中去。描述载波信号的3个关键参数是幅度、频率和相位。所以就有了AM、FM、PM和ASK、FSK和PSK。</p>
]]></content>
      <categories>
        <category>工程</category>
      </categories>
      <tags>
        <tag>工程</tag>
      </tags>
  </entry>
  <entry>
    <title>江阴的迈巴赫</title>
    <url>/2019/05/23/%E6%B1%9F%E9%98%B4%E7%9A%84%E8%BF%88%E5%B7%B4%E8%B5%AB/</url>
    <content><![CDATA[<p>少年多荒唐，心里的神坛总要供几个人，然后又把他们一个一个驱逐下去，终有一天，干脆把神坛砸烂，另筑一家园，只停留所爱的人，从此赴汤蹈火去过日子，只为“情深义重”这四个字。</p>
]]></content>
      <tags>
        <tag>宫灯夜明</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLAB读取.csv数据绘图</title>
    <url>/2019/05/22/MATLAB%E8%AF%BB%E5%8F%96-csv%E6%95%B0%E6%8D%AE%E7%BB%98%E5%9B%BE/</url>
    <content><![CDATA[<h2 id="导入数据，绘图"><a href="#导入数据，绘图" class="headerlink" title="导入数据，绘图"></a>导入数据，绘图</h2><p>1.将需要处理的数据保存到工作目录</p>
<p>2.在MATLAB左侧“当前文件夹”区域双击打开.csv文件</p>
<p>3.选中需要导入的数据，右键导入</p>
<p>4.plot()绘图</p>
<p>5.legend(‘xxxx’,’xxxx’)添加图例</p>
<p>6.title(‘xxxx’)添加标题</p>
<h2 id="在曲线上取点，能够显示点的坐标"><a href="#在曲线上取点，能够显示点的坐标" class="headerlink" title="在曲线上取点，能够显示点的坐标"></a>在曲线上取点，能够显示点的坐标</h2><p>在图形界面窗口中，工具栏上的【Data Cursor】（数据游标）工具，然后再在需要查看坐标值的数据点上单击左键即可。</p>
<h2 id="ezplot绘制隐函数图像"><a href="#ezplot绘制隐函数图像" class="headerlink" title="ezplot绘制隐函数图像"></a>ezplot绘制隐函数图像</h2><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">plot(VarName6,VarName5,'g')</span><br><span class="line">hold on</span><br><span class="line">x1=cursor_info_x1.Position(:,1);</span><br><span class="line">x2=cursor_info_x2.Position(:,1);</span><br><span class="line">y1=cursor_info_y1.Position(:,2);</span><br><span class="line">y2=cursor_info_y2.Position(:,2);</span><br><span class="line">x0=(x2+x1)/2;</span><br><span class="line">y0=(y2+y1)/2;</span><br><span class="line">a=(x2-x1)/2;</span><br><span class="line">b=(y2-y1)/2;</span><br><span class="line">syms x</span><br><span class="line">syms y</span><br><span class="line">h=ezplot(b^2*x^2+a^2*y^2-2*b^2*x0*x-2*a^2*y0*y+b^2*x0^2+a^2*y0^2-a^2*b^2 == 0,[x1-10000,x2+10000,y1-10000,y2+10000])</span><br><span class="line">set(h,'Color','r')</span><br><span class="line">legend('实际航线','规划航线')</span><br><span class="line">title('高速圆形轨迹')</span><br></pre></td></tr></table></figure>
<h2 id="经纬度坐标转化为二维坐标"><a href="#经纬度坐标转化为二维坐标" class="headerlink" title="经纬度坐标转化为二维坐标"></a>经纬度坐标转化为二维坐标</h2><p>latlon2pix命令（未完成）</p>
]]></content>
      <tags>
        <tag>MATLAB</tag>
      </tags>
  </entry>
  <entry>
    <title>QT布局</title>
    <url>/2019/05/21/QT%E5%B8%83%E5%B1%80/</url>
    <content><![CDATA[<p><strong>在一个Widget中才能应用布局。</strong></p>
<p>最主要的三种布局方式：</p>
<p>QHBoxLayout：水平布局</p>
<p>QVBoxLayout：垂直布局</p>
<p>QGridLayout： 表格布局</p>
<p><strong>我们使用布局方式结合控件的SizePolicy属性，来控制布局管理中的控件的尺寸自适应方式。</strong></p>
<p>A. Fixed：控件不能放大或者缩小，控件的大小就是它的sizeHint。</p>
<p>B. Minimum：控件的sizeHint为控件的最小尺寸。控件不能小于这个sizeHint，但是可以放大。</p>
<p>C. Maximum：控件的sizeHint为控件的最大尺寸，控件不能放大，但是可以缩小到它的最小的允许尺寸。</p>
<p>D. Preferred：控件的sizeHint是它的sizeHint，但是可以放大或者缩小。</p>
<p>E. Expandint：控件可以自行增大或者缩小。</p>
<p>注：sizeHint（布局管理中的控件默认尺寸，如果控件不在布局管理中就为无效的值）</p>
<p>这个属性所保存的 QSize 类型的值是一个被推荐给widget的尺寸（并不一定就是widget的尺寸）。<br>当sizeHint的取值是一个无效值的时候（sizeHint().isValid() 返回 false，QSize 中 width 或者 height 有一个为负数就会是无效的），什么作用也没有；<br>当它是一个有效值的时候，它就成了 widget 大小的一个参考。</p>
<p>Qt 中对 sizeHint() 的默认实现是这样的：当 widget 没有布局（layout）时，返回无效值；否则返回其 layout 的首选尺寸（preferred size）。</p>
<p>1) 在 widget 有 layout 的情况下，其 sizeHint() 函数返回的是有效值作为其自身实际尺寸的参考；</p>
<p>2) sizeHint() 返回的值并不一定会作为 widget 的实际尺寸，因为 widget 的尺寸的决定还有其它因素作用；</p>
<p>如果有widgets设置了大于0的拉伸系数，接下来它们将按照拉伸系数的比例来分配空间。</p>
<p>如果有widgets设置的拉伸系数是0，它将在没有其他widgets需要空间时获取更多空间。其中，带Expanding大小策略的widget将首先获得空间。</p>
<p>所有分配了小于最小空间（或者设置了最小的sizehint）的widget将按要求分配最小空间。（在拉伸系数成为决定因子时，widgets没必要再用最小值或者最小hint）。<br>任何分配了大于最大空间的widget将按要求分配最大空间。（拉伸系数起着决定作用）。</p>
<p><strong>QSpliter分割器的作用：</strong></p>
<p>分裂器 QSplitter 是一个实体功能控件，它的基类是 QFrame，QFrame 基类正是 QWidget。</p>
<p>QSplitter 可以独立存在，可以作为父窗口容纳多个子控件，分裂器会完全拥有内部的子控件。</p>
<p>在 Qt 设计师或 QtCreator 设计模式左边 Widget Box 里面没有分裂器可以拖动，使用分裂器的方式是：<br>选中已有的控件，然后点击上面工具栏的水平分裂器或垂直分裂器按钮。</p>
<p>分裂器内每个控件都有一个手柄 Handle，水平分裂器内控件的手柄在左边，垂直分裂器内控件的手柄在控件上方。<br>第0个控件的手柄是永久隐藏的，分裂器自身占据的大矩形四个边界线通常不能拖动拉大，只能拖动控件之间的手柄。</p>
<p>分裂器整体的尺寸不是用户控制的，而在分裂器内部的控件尺寸可以让用户手工拖动手柄来控制。<br>在程序运行时，水平分裂器内各个控件的宽度、垂直分裂器内部各个控件的高度， 一般都是用户拖动手柄控制，这是分裂器和布局器最大的不同。</p>
<p><strong>最简单的分割窗体</strong><br><figure class="highlight zephir"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;QApplication&gt;  </span></span><br><span class="line"><span class="comment">#include &lt;QLabel&gt;  </span></span><br><span class="line"><span class="comment">#include &lt;QSplitter&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])  </span><br><span class="line">&#123;  </span><br><span class="line">    QApplication app(argc, argv);  </span><br><span class="line"> </span><br><span class="line">	QSplitter * mainSplitter = <span class="keyword">new</span> QSplitter(Qt::Horizontal);</span><br><span class="line">	mainSplitter-&gt;setHandleWidth(<span class="number">10</span>);</span><br><span class="line">	mainSplitter-&gt;setStyleSheet(<span class="string">"QSplitter::handle &#123; background-color: black &#125;"</span>); <span class="comment">//设置分界线的样式</span></span><br><span class="line">    QLabel *label = <span class="keyword">new</span> QLabel(QObject::tr(<span class="string">"TestA"</span>));</span><br><span class="line">    QLabel *label2 = <span class="keyword">new</span> QLabel(QObject::tr(<span class="string">"TestB"</span>));</span><br><span class="line"> </span><br><span class="line">    mainSplitter-&gt;addWidget(label2);</span><br><span class="line">    mainSplitter-&gt;addWidget(label);</span><br><span class="line">    mainSplitter-&gt;setSizePolicy(QSizePolicy::Expanding,QSizePolicy::Expanding);</span><br><span class="line">    mainSplitter-&gt;show(); </span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> app.exec();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>另外，还有QStackedLayout栈布局。</strong></p>
<p>通常应用的界面会根据不同的状态有不同的内容, 这时就可以使用 QStackedLayout 栈布局, 栈布局提供了一个页面的栈, 每个页面有完全独立的界面布局. 可以非常清晰的对不同状态下的界面进行布局管理。</p>
<p>在 Qt 的可视化布局工具中, 通过 Stacked Widget 来完成界面的栈布局</p>
]]></content>
      <categories>
        <category>QT总结</category>
      </categories>
      <tags>
        <tag>QT</tag>
      </tags>
  </entry>
  <entry>
    <title>一切最开始的时候</title>
    <url>/2019/05/20/%E4%B8%80%E5%88%87%E6%9C%80%E5%BC%80%E5%A7%8B%E7%9A%84%E6%97%B6%E5%80%99/</url>
    <content><![CDATA[<p>一切最开始的时候，是最美的时光。</p>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2019/05/19/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
